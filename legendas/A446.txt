0
[MÚSICA] [MÚSICA] OLÁ A TODOS 
1
ESTAMOS SEGUINDO AQUI A NOSSA SEQUÊNCIA DE REFATORAÇÃO 
2
EH NO ÚLTIMO VÍDEO A GENTE MOVEU NÃO É 
3
ESSES MÉTODOS AQUI PARA ESSE CLASSE MOVIE E COMO EU FALEI EU ESTOU TENDO 
4
POUQUINHO DE COCEIRA COM ESSE SWITCH CASE AQUI QUE ESTÁ MEIO ESQUISITO ESTÁ 
5
SE A GENTE OLHAR O MOVIE AQUI CLARAMENTE TEM 3 TIPOS DE FILME NÃO É 
6
E ESSES 2 MÉTODOS AQUI ELES DEPENDEM BASTANTE 
7
NÃO É DO TIPO DE FILME PARA RETORNAR O RESULTADO NÃO É 
8
EU ENXERGO ISSO AQUI COMO UMA REFATORAÇÃO POUQUINHO MAIS COMPLICADA 
9
QUE A GENTE CHAMA TROCAR CONDICIONAL POR POLIMORFISMO NÃO É 
10
ENTÃO O QUE É QUE EU VOU FAZER 
11
EU VOU CRIAR NOVO UMA NOVA CLASSE 
12
EU VOU CRIAR SUBCLASSES DE MOVIE CERTO 
13
PARA PARA QUE ELAS CADA UMA NÃO É 
14
VAI TER UMA SUBCLASSE CHILDRENS UMA CLASSE REGULAR E A SUBCLASSE NEW RELEASE 
15
PARA QUE CADA UMA TRATE EH EH A FORMA QUE QUE ELE LIDA COM ISSO 
16
E VAMOS FAZER ESSA MIGRAÇÃO AQUI AOS POUCOS 
17
ESTÁ ANTES DE FAZER ISSO 
18
O QUE É QUE EU VOU FAZER 
19
AGORA EU NÃO VOU PODER MAIS CRIAR NÃO É 
20
SE EU TIVER A SUBCLASSE EU NÃO VOU CRIAR MAIS A CLASSE MOVIE 
21
EU VOU CRIAR UMA DAS SUBCLASSES 
22
ENTÃO O QUE EU VOU FAZER É CRIAR MÉTODO FÁBRICA ESTÁ 
23
PARA ME AUXILIAR NESSE PROCESSO DE CRIAÇÃO 
24
A PRINCÍPIO ELE VAI SIMPLESMENTE CHAMAR O CONSTRUTOR ESTÁ 
25
ENTÃO EU VOU VIR AQUI EU VOU DAR CONTROL C 
26
CONTROL V AQUI E VOU CRIAR MÉTODO ESTÁTICO 
27
É PUBLIC STATIC EH 
28
EH BOTAR ASSIM OH CREATE MOVIE ESTÁ 
29
ELE VAI RECEBER OS MESMOS OS MESMOS PARÂMETROS ESTÁ 
30
ELE VAI RETORNAR O MOVIE 
31
ENTÃO NA VERDADE 
32
QUEM ESTÁ CHAMANDO NÃO PRECISA SABER SE É UMA CLASSE SE É UMA SUBCLASSE 
33
TEM QUE SER MOVIE 
34
ESTÁ 
35
E AÍ A PRINCÍPIO ELE VAI RETORNAR NÃO É 
36
RETURN NEW MOVIE 
37
ESTÁ 
38
AÍ ELE PASSA ALI COMO PARÂMETRO PRICECODE E O TITLE 
39
ESTÁ 
40
ENTÃO À MEDIDA QUE EU FOR ADICIONANDO AS SUBCLASSES 
41
EU VOU PASSANDO A RETORNAR ELAS EH QUANDO FOR PRICECODE DELAS 
42
ESTÁ 
43
ENTÃO FEITO ISSO EU PRECISO AGORA FAZER PEQUENO AJUSTE NO MEU TESTE 
44
ESTÁ 
45
PARA QUE AO INVÉS DELE VIR AQUI E CHAMAR ESSE NEW MOVIE 
46
PARA ELE CHAMAR O CREATE MOVIE 
47
ENTÃO EU VOU VIR AQUI EU VOU MODIFICAR O MOVIE AQUI 
48
ELE VAI CHAMAR O CREATE MOVIE ESTÁ 
49
EH EH ONDE ELE VAI ESTAR PASSANDO ALI O TÍTULO E O TYPE 
50
ESTÁ 
51
NOTE QUE POR EXEMPLO ISSO DAQUI APESAR DE TER SIDO UMA MUDANÇA 
52
SIMPLES DE FAZER AQUI NO TESTE É UMA MUDANÇA DE INTERFACE 
53
É UMA MUDANÇA DE API OU SEJA 
54
A FORMA QUE EU CRIO O FILME DAQUI PARA A FRENTE ELA É DIFERENTE 
55
ESTÁ 
56
ENTÃO NORMALMENTE ESSE TIPO DE MUDANÇA QUE AFETA 
57
NÃO É SÓ INTERNA QUE AFETA COMO AS OUTRAS CLASSES 
58
EH UTILIZAM CRIAM A SUA CLASSE ELAS COSTUMAM TER IMPACTO MAIOR 
59
ISSO AQUI NO CASO 
60
A GENTE ESTÁ OBSERVANDO PORQUE A GENTE ESTÁ PRECISANDO ALTERAR O TESTE NÃO É 
61
FELIZMENTE A GENTE TEM CRIOU ESSE MÉTODO RENTMOVIE AQUI QUE FACILITA 
62
ISSO PARA A GENTE MAS EH EH PRECISAMOS 
63
A GENTE PRECISOU ALTERAR O TESTE PARA PODER FAZER ISSO AQUI 
64
ENTÃO VAMOS VAMOS VER SE O TESTE CONTINUA FUNCIONANDO COM ESSA ALTERAÇÃO 
65
OKAY 
66
EU VOU INCLUSIVE VIR AQUI NA CLASSE MOVIE 
67
EH EH 
68
NÃO VOU DEIXAR ELA ASSIM MESMO 
69
ENTÃO A PRIMEIRA COISA QUE EU VOU FAZER 
70
EU VOU VIR AQUI E VOU CRIAR UMA NOVA CLASSE 
71
QUE VAI SER A CLASSE DO REGULAR 
72
ENTÃO EU VOU VIR AQUI NEW CLASS 
73
EU VOU CHAMAR DE REGULAR 
74
ESTÁ 
75
A SUPERCLASSE DELE VAI SER A CLASSE EH MOVIE 
76
ESTÁ 
77
EH PEGO UNS CONSTRUTORES ABSTRACT OKAY 
78
FINISH 
79
ESTÁ 
80
ENTÃO AQUI 
81
POR EXEMPLO NESSE REGULAR EU NÃO PRECISO DO PRICECODE 
82
ESTÁ 
83
EU POSSO PASSAR AQUI DIRETO PARA ELE O REGULAR NÃO É 
84
PORQUE VAI SER SEMPRE O REGULAR 
85
ENTÃO AQUI EU JÁ POSSO TIRAR ESSE PRICECODE AQUI DO MEU 
86
DA MINHA CLASSE ESTÁ 
87
ENTÃO AGORA EU VOU VIR AQUI EU VOU EH EH 
88
VER AQUI OH GENERATE OVERWRITE IMPLEMENT METHODS 
89
EU VOU COLOCAR AQUI NA NA MINHA CLASSE REGULAR OS MÉTODOS 
90
GETFREQUENTRENTERPOINTS E O GETAMOUNT ESTÁ 
91
E AÍ EU VOU VIR AQUI NA MINHA CLASSE MOVIE VOU 
92
EH COPIAR AQUI NÃO É A LÓGICA NÃO É 
93
PEGAR AQUI EH 
94
AQUI EU NÃO PRECISO MAIS DO SWITCH NEM DO CASE 
95
ESTÁ 
96
MAIS IGUAL 2 
97
EU POSSO JÁ COMEÇAR AQUI COM 2 NÃO É 
98
SE A QUANTIDADE DE DIAS FOR MAIOR QUE 2 
99
ENTÃO ELE FAZ AQUELA CONTINHA ALI 
100
ESTÁ 
101
E AQUI EU VOU DAR RETURN THISAMOUNT 
102
ÓTIMO 
103
EH VOU SALVAR ESTÁ 
104
EH AQUI EU VOU VOLTAR NA CLASSE MOVIE VOU VER O FREQUENTRENTERPOINTS 
105
PARA O CASO DO REGULAR VAI SER SEMPRE 1 NÃO É 
106
ENTÃO EU VOU SIMPLESMENTE VOU VIR AQUI 
107
VOU DAR RETURN 1 E VOU SALVAR 
108
ESTÁ BOM EU JÁ TENHO A CLASSE REGULAR 
109
EU PRECISO QUE O MEU CÓDIGO UTILIZE ESSA CLASSE 
110
ENTÃO O QUE É QUE EU VOU FAZER 
111
EH AQUI NO MEU CREATEMOVIE 
112
ESTÁ 
113
EU VOU VERIFICAR SE O PRICECODE 
114
QUE ELE ESTÁ PASSANDO É IGUAL A REGULAR 
115
ENTÃO ELE VAI VIR AQUI E VAI DAR 
116
RETURN NEW REGULAR ESTÁ 
117
E ELE VAI EH COLOCAR O TITLE ALI COMO PARÂMETRO 
118
SERÁ QUE ESTÁ FUNCIONANDO 
119
ESTÁ ENTÃO AGORA QUANDO ELE FOR REGULAR 
120
ELE JÁ VAI ESTAR UTILIZANDO A MINHA SUBCLASSE 
121
ESTÁ 
122
VAMOS RODAR OS TESTES AQUI 
123
EH VAMOS LÁ TORCER PARA FUNCIONAR 
124
TUDO FUNCIONANDO PODEMOS CONTINUAR 
125
UMA PARTE QUE EU GOSTO MUITO NA REFATORAÇÃO É DELETAR CÓDIGO 
126
ESTÁ 
127
ENTÃO EU POSSO VIR AQUI E DESTRUIR TODO O CASE DO REGULAR NO MÉTODO GETAMOUNT 
128
ESTÁ 
129
AQUI NO GETFREQUENTRENTERPOINT NÃO CONSIGO AINDA CERTO 
130
ENTÃO EU VOU VIR AQUI VOU SALVAR 
131
EH EH 
132
[SEMÁUDIO] ENTÃO 
133
SEGUINDO O EXEMPLO 
134
EU VOU CRIAR O MÉTODO A CLASSE CHILDRENS 
135
VAMOS LÁ 
136
CHILDRENS 
137
PARA FAZER 
138
NÃO VOU COMEÇAR VOU SEGUIR VEZ DE SEGUIR PARA O CHILDRENS 
139
VOU SEGUIR PARA NEW RELEASE 
140
ESTÁ 
141
EH DA MESMA FORMA EU JÁ VOU VIR AQUI DIZER QUE A CLASSE MOVIE 
142
ESTÁ 
143
ELE QUE A SUPERCLASSE DELE É MOVIE VOU DAR FINISH ESTÁ 
144
AQUI DA MESMA FORMA QUE EU FIZ EU POSSO DIZER AQUI QUE 
145
ELE EH QUE AQUI ELE TEM 
146
ELE RECEBE COMO PARÂMETRO O NEWRELEASE ESTÁ 
147
E POSSO APAGAR ESSE PRICECODE AQUI CERTO 
148
EH INCLUSIVE AQUI 
149
SE EU QUISER EU VOU FAZER POUQUINHO DIFERENTE SÓ PARA VOCÊS VEREM COMO QUE 
150
NA REFATORAÇÃO É IMPORTANTE VOCÊ DAR PEQUENOS PASSINHOS ONDE TUDO 
151
CONTINUA FUNCIONANDO E SÓ AOS POUQUINHOS VOCÊ VAI SUBSTITUINDO 
152
OBSERVE QUE EU JÁ POSSO AQUI NESSE PONTO 
153
EU JÁ CONSIGO VIR AQUI NA MINHA CLASSE MOVIE JÁ 
154
JÁ COLOCAR AQUI PARA RETORNAR O NEWRELEASE NÃO É 
155
ENTÃO EH EH 
156
SE O PRICECODE FOR IGUAL A NEWRELEASE 
157
ELE JÁ VAI RETORNAR AQUI NEW 
158
NEWRELEASE COM O 
159
TITLE ALI IGUAL AO DE CIMA ALI 
160
ENTÃO NOS CASOS DO NEWRELEASE ELE JÁ ESTÁ UTILIZANDO 
161
A SUBCLASSE E SE EU RODAR OS TESTES ELES VÃO ESTAR FUNCIONANDO 
162
PORQUÊ 
163
PORQUE ELE ESTÁ PASSANDO ESSE NEWRELEASE E ELE ESTÁ DELEGANDO 
164
PARA A CLASSE MOVIE ELE ESTÁ CHAMANDO DA CLASSE MOVIE O GETAMOUNT E 
165
O GETFREQUENTRENTERPOINTS QUE CONSIDERAM AQUI O NEWRELEASE 
166
ENTÃO EU VOU VIR AQUI 
167
EU VOU COPIAR AQUI FICA ATÉ MAIS FÁCIL DO QUE USAR ALI O DO ECLIPSE 
168
ESTÁ 
169
ENTÃO NO MEU MÉTODO GETAMOUNT EU VOU 
170
COPIAR AQUI O QUE TEM AQUI NO MOVIE 
171
QUE É SIMPLESMENTE A QUANTIDADE DE DIAS VEZES 3 
172
NESSE CASO AQUI É UMA IMPLEMENTAÇÃO ATÉ BEM SIMPLES 
173
ESTÁ 
174
E AQUI 
175
NA MINHA CLASSE MOVIE 
176
EU POSSO COLOCAR ESSE 
177
IF AQUI COM A DIFERENÇA DE QUE AQUI EU VOU TIRAR ESSA 
178
VERIFICAÇÃO SE ELE É NEWRELEASE PORQUE EU SEI QUE ELE É NEWRELEASE 
179
ENTÃO SE FOR MAIOR DO QUE 1 RETORNA 2 SE NÃO RETORNA 1 
180
ENTÃO FICANDO ALI BASTANTE SIMPLES ESTÁ 
181
ENTÃO VOU RODAR AQUI AGORA 
182
FUNCIONOU E AÍ ENTÃO EU POSSO JÁ REMOVER AQUI 
183
EU POSSO DEIXAR SÓ O RETURN 1 AQUI 
184
AQUI O ÚNICO CASO QUE ELE VAI RODAR VAI SER NO CASO DO CHILDRENS 
185
ENTÃO EU POSSO TAMBÉM JÁ EXCLUIR TUDO ALI 
186
ESTÁ 
187
DEIXANDO INCLUSIVE AQUI O IGUAL A 15 
188
E POSSO RODAR AQUI 
189
DE NOVO E VAMOS VER COMO É QUE VAI FICAR ISSO DAQUI 
190
[SEM ÁUDIO] FUNCIONOU ESTÁ 
191
A GENTE PODE OBSERVAR AQUI QUE O RETURN 1 
192
ESSA IMPLEMENTAÇÃO ELA ESTÁ IGUALZINHA À DO REGULAR 
193
EU POSSO DEIXAR ESSE RETURN 1 COMO IMPLEMENTAÇÃO DEFAULT OU SEJA 
194
NEM PRECISO COLOCAR AQUI SÓ VOU SOBRESCREVER ISSO ALI NO MEU NEWRELEASE 
195
ONDE EU TENHO COMPORTAMENTO DIFERENTE O TESTE CONTINUA FUNCIONANDO 
196
OLHA QUE É MUITO BOM DELETAR CÓDIGO 
197
É MUITO BOM VOCÊ SAI EXCLUINDO TUDO E TUDO CONTINUA FUNCIONANDO A MESMA COISA 
198
É MUITO BOM MUITO BOM ADORO ADORO DELETAR CÓDIGO 
199
BOM ESTÁ FALTANDO SÓ AGORA AQUI A NOSSA CLASSE 
200
CHILDRENS 
201
ENTÃO VAMOS VIR AQUI CRIAR A NOSSA CLASSE CHILDRENS 
202
ONDE EU VOU TAMBÉM COLOCAR COMO SUPERCLASSE AQUI A CLASSE MOVIE 
203
E AGORA FICOU BEM FÁCIL 
204
ENTÃO VOU PASSAR AQUI ESSE 
205
COMO PRICECODE AQUI O CHILDRENS 
206
E EU POSSO EXCLUIR AQUI DO MEU CONSTRUTOR 
207
AQUI O MEU NA MINHA CLASSE MOVIE 
208
EU POSSO SIMPLESMENTE COPIAR ESSE GETAMOUNT AQUI [SEM 
209
ÁUDIO] PORQUE ELE JÁ É A IMPLEMENTAÇÃO DO CHILDRENS 
210
VOU SALVAR AQUI 
211
E ESSE GETAMOUNT AQUI ELE SEI LÁ 
212
NÃO TEM MAIS NADA A PARTIR DO MOMENTO QUE VIR AQUI E COLOCAR AQUI 
213
IF PRICECODE IGUAL A CHILDRENS 
214
E RETORNAR CHILDREN AQUI 
215
NEW NEW CHILDRENS 
216
COM TITLE EU NÃO PRECISO MAIS DESSE AQUI BAIXO NÃO É 
217
EU POSSO ATÉ JOGAR UMA EXCEÇÃO AQUI DAR THROWS 
218
NEW RUNTIME EXCEPTION 
219
E FALAR AQUI NÃO EXISTE ESSE TIPO DE FILME 
220
NÃO EXISTE OPA NÃO EXISTE ESSE TIPO DE FILME 
221
QUE É O PRICECODE QUE ELE ESTÁ PASSANDO ALI NÃO É 
222
EH THROW 
223
ENTÃO COM ISSO EU POSSO POR EXEMPLO 
224
VIR AQUI E DIZER QUE A CLASSE MOVIE É UMA CLASSE ABSTRATA AGORA PORQUE NINGUÉM 
225
VAI INSTANCIAR O MOVIE VAI INSTANCIAR SEMPRE UMA DAS SUAS SUBCLASSES NÃO É 
226
ENTÃO VOU COLOCAR AQUI ABSTRACT CLASS 
227
MOVIE E AÍ EU POSSO DECLARAR POR EXEMPLO 
228
ESSE MÉTODO GETAMOUNT TAMBÉM COMO MÉTODO ABSTRATO NÃO É 
229
OU SEJA CADA FILME 
230
PRECISA TER O SEU AQUELE 
231
AQUELE SEU 
232
O CÁLCULO DA QUANTIDADE DO SEU PREÇO ESTÁ 
233
ENTÃO VOU RODAR AQUI PARA VER SE FUNCIONOU DIREITINHO 
234
OPA ESPERA AÍ 
235
VAMOS RODAR AQUI O TESTE 
236
ISSO MUITO BEM 
237
E COM ISSO EU PERCEBO QUE A MINHA VARIÁVEL PRICECODE ELA NÃO É MAIS NECESSÁRIA 
238
PORQUE EU NÃO USO SE EU OLHAR AQUI EU NÃO USO ELA MAIS PARA NADA 
239
ELA É UMA COISA QUE FICOU OBSOLETA 
240
ENTÃO OLHA SÓ AGORA VAI SER A FESTA DE DELETAR COISAS 
241
EU POSSO DELETAR ISSO DAQUI ESTÁ EU POSSO DELETAR ISSO DAQUI 
242
POSSO DELETAR ESSES 2 MÉTODOS AQUI 
243
NÃO SÃO MAIS NECESSÁRIOS VOU SALVAR AQUI 
244
E AÍ O QUE EU VOU PRECISAR É SIMPLESMENTE DE 
245
ELIMINAR ESSE PARÂMETRO AQUI DO CONSTRUTOR DA SUPERCLASSE 
246
QUE TODO O REGULAR É REGULAR TODO O NEWRELEASE É NEWRELEASE 
247
ENTÃO EU NÃO PRECISO MAIS DE PASSAR ISSO PARA A SUPERCLASSE PORQUE ELA 
248
NÃO UTILIZA MAIS ISSO PARA NADA ESTÁ 
249
SALVO TUDO E VOCÊ PODE VER QUE COM ESSA QUANTIDADE 
250
DE CÓDIGO QUE EU EXCLUÍ O TESTE CONTINUA PASSANDO COM SUCESSO ESTÁ 
251
ENTÃO FIZEMOS AQUI NÃO É UMA CLARO 
252
FALA ASSIM MAS VOCÊ CONTINUA COM O IF AQUI PARA CRIAR O TIPO DO FILME 
253
SIM DEPENDEMOS DA FORMA EU PRECISO ME ATER A ISSO DAQUI 
254
PORQUE O RESTO DO MEU SISTEMA NO CASO O QUE O RESTO DO MEU SISTEMA AQUI 
255
É O TESTE ELE UTILIZA AQUI ESSE ESSE 
256
CÓDIGO NÃO É COMO BASE PARA CRIAR OS FILMES 
257
SE DEPOIS EU REFATORAR OS MEUS A MINHA APLICAÇÃO COMO TODO 
258
PARA QUE ELE CRIE REGULAR QUE AO INVÉS DE CRIAR FILME 
259
NÃO É EU POSSO DE REPENTE ELIMINAR ESSA NECESSIDADE 
260
DE EU TER ESSE ESSE MÉTODO DE CRIAÇÃO AQUI ESTÁ 
261
MAS A GENTE VÊ QUE ELE É BEM MAIS ORGANIZADO DO AQUELE CÓDIGO QUE EU 
262
TINHA ANTES NÃO É 
263
SE A GENTE QUER SABER COMO É QUE FUNCIONA DETERMINADO TIPO DE FILME 
264
É SÓ EU VIR AQUI E AS REGRAS CADA DELES SÃO MUITO CLARAS 
265
NÃO É MAIS AQUELA BAGUNÇA TODA MISTURADA QUE A GENTE TINHA ANTES ESTÁ 
266
E OUTRA COISA QUE A GENTE PERCEBE ESSA MELHORIA É QUE SE A GENTE 
267
QUISER ACRESCENTAR NOVO TIPO DE FILME SEI LÁ 
268
FILME PROMOCIONAL OU SUPER LANÇAMENTO COMO TEM ALGUMAS LOCADORAS POR AÍ 
269
A GENTE TAMBÉM É SÓ CRIAR UMA NOVA SUBCLASSE E NO CASO AQUI ESTÁ INCLUINDO 
270
ELA NESSE NESSE MÉTODO AQUI DE CRIAÇÃO ESTÁ CERTO 
271
ENTÃO ESSA AULA FOI ISSO SEI QUE FOI UMA REFATORAÇÃO COMPLICADA 
272
O ECLIPSE NÃO FAZ ELA AUTOMÁTICA PARA A GENTE MAS DÁ PARA VER COMO É QUE A GENTE 
273
ATRAVÉS DA REFATORAÇÃO A GENTE CONSEGUE MUDAR BASTANTE A CARA DE CÓDIGO 
274
MAS NÃO ACABOU NÃO TEM MAIS PEDACINHO E EU ESPERO VOCÊ NO PRÓXIMO VÍDEO PARA 
275
A GENTE TERMINAR ESSA REFATORAÇÃO 
276
[MÚSICA]