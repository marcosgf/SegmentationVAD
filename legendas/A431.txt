0
[MÚSICA] [MÚSICA] OLÁ A TODOS 
1
MEU NOME É EDUARDO GUERRA 
2
ESSE É O CURSO DE DESENVOLVIMENTO DE SOFTWARE GUIADO POR TESTES 
3
HOJE VAMOS FALAR SOBRE A SITUAÇÃO DE QUANDO A DEPENDÊNCIA AINDA NÃO EXISTE NÃO 
4
É QUE É POUQUINHO SOBRE O DESIGN DO SOFTWARE UTILIZANDO O TDD ESTÁ 
5
ENTÃO A GENTE VAI APRENDER A FAZER VAMOS FALAR POUQUINHO AQUI 
6
DEPOIS A GENTE VAI VER HANDS ON PARA VER POUQUINHO MAIS NA PRÁTICA 
7
SOBRE COMO VOCÊ VAI FAZER O TDD NUMA CLASSE QUE TEM UMA 
8
DEPENDÊNCIA E PRINCIPALMENTE QUANDO ESSA DEPENDÊNCIA NÃO EXISTE AINDA 
9
OU SEJA EU QUERO DESENVOLVER UMA CLASSE QUE ELA DEPENDE DE OUTRA QUE NÃO EXISTE 
10
AINDA COMO É QUE EU FAÇO PARA DESENVOLVER ESSA CLASSE CERTO 
11
ENTÃO VAMOS LÁ O CASO QUE A GENTE VAI PEGAR É ESSE AQUI QUE 
12
EU ESTOU REPRESENTANDO NA FIGURA A GENTE VAI TER QUE FAZER O TESTE COM A CLASSE 
13
A GENTE JÁ VIU COMO É QUE FAZ O TESTE ANTES DA CLASSE EXISTIR 
14
SÓ A GENTE VAI DESENVOLVER A CLASSE AGORA ANTES DA DEPENDÊNCIA DELA EXISTIR 
15
ENTÃO PARA FAZER ISSO 
16
PARA FICAR UMA COISA MAIS CONCRETA PARA VOCÊS A GENTE VAI PEGAR EXEMPLO ESTÁ 
17
ENTÃO IMAGINA QUE A GENTE VAI ESTAR CRIANDO UMA CLASSE NÃO É 
18
QUE SERIA SERVIÇO DE LOGIN ESTÁ 
19
E ESSE SERVIÇO DE LOGIN NÃO É QUE TEM ESSA LÓGICA DE  EU 
20
TENHO USUÁRIO MAS SEM EU QUERO SABER QUERO AUTENTICAR ELE NO MEU SISTEMA ESTÁ 
21
ENTÃO ESSA CLASSE ELA PRECISA INTERAGIR AÍ COM UMA BASE DE DADOS 
22
NÃO É QUE É RESPONSÁVEL POR FAZER CONSULTAS NO BANCO DE DADOS 
23
ENTÃO EU TENHO A MINHA CLASSE QUE É O SERVIÇO DE LOGIN QUE ELA TERIA ESSA 
24
DEPENDÊNCIA QUE É ESSA CLASSE QUE ACESSA O BANCO DE DADOS 
25
A QUESTÃO É QUE ESSA CLASSE QUE ACESSA O BANCO DE DADOS AINDA NÃO EXISTE NO MEU 
26
SISTEMA ESTÁ 
27
ENTÃO OU SEJA EU TENHO QUE DAR JEITO DE FAZER O TESTE SEM ELA EXISTIR AINDA ESTÁ 
28
ENTÃO O QUE É QUE A GENTE VAI FAZER 
29
A GENTE VAI ESTAR FAZENDO O TDD NÃO É ENVOLVENDO SOMENTE AQUELA CLASSE 
30
NÃO É SOMENTE A CLASSE DO SERVIÇO DE LOGIN E AÍ A GENTE JÁ VIU QUE PARA 
31
FAZER ISSO A GENTE VAI ESTAR SUBSTITUINDO O MOCK AQUI POR OU MOCK 
32
A GENTE VAI ESTAR SUBSTITUINDO DAO POR MOCK CERTO 
33
ENTÃO VAMOS COMEÇAR A PENSAR COM TDD A GENTE PENSA A PARTIR DO TESTE 
34
ENTÃO A PRIMEIRA COISA QUE A GENTE FARIA SERIA OLHA EU PRECISO INSTANCIAR 
35
A MINHA CLASSE SERVIÇO LOGIN NÃO É ENTÃO ESTÁ ALI CIMA 
36
NA SEGUNDA LINHA EU CRIO O MEU MOCK OBJECT QUE EU VOU COLOCAR NO LUGAR DO DAO 
37
LEMBRANDO QUE AQUI EU ESTOU ESCREVENDO O TESTE NADA DISSO EXISTE AINDA 
38
NEM A CLASSE NEM O MOCK ESTÁ 
39
E AÍ EU VOU E SETO ESSE DAO NÃO É 
40
EU SETO O MOCK COLOCANDO ELE NO LUGAR DO DAO NA CLASSE QUE EU ESTOU DESENVOLVENDO 
41
ENTÃO ESSE É O PRIMEIRO PASSO É A MINHA FORMA COMO A PARTIR DO TESTE FALAR 
42
OLHA EU ESTOU CRIANDO ESSA CLASSE EU ESTOU CRIANDO AQUI MOCK DE UMA DEPENDÊNCIA 
43
QUE VAI SER UMA DEPENDÊNCIA DESSA CLASSE E ESTOU COLOCANDO ESSE MOCK DENTRO DELA 
44
LEMBRANDO QUE EU PODERIA POR EXEMPLO ESTAR COLOCANDO A PARTIR DE CONSTRUTOR NÃO É 
45
A GENTE VIU AS OUTRAS FORMAS AÍ DE INJEÇÃO DE DEPENDÊNCIA NAS OUTRAS AULAS 
46
ENTÃO O PRIMEIRO PASSO SERIA ESSE 
47
O SEGUNDO PASSO É SABER QUAL QUE SERIA O RESULTADO ESPERADO DO TESTE 
48
NO CASO AQUI PARA SIMPLIFICAR 
49
OBSERVE QUE EU COLOQUEI ALI ASSERTTRUE EU CHAMANDO O MÉTODO LOGIN GUERRA E SENHA 
50
VOCÊS ACHARAM QUE EU IA BOTAR A MINHA SENHA DE VERDADE ALI NÃO É 
51
LÓGICO QUE EU NÃO VOU COLOCAR NÃO É VAI SER SÓ SENHA 
52
ENTÃO NO CASO ALI EU ESPERO QUE ELE RETORNE VERDADEIRO ESTÁ 
53
ENTÃO ESSE CASO DE TESTE NÃO É 
54
ATÉ O NOME DO MÉTODO A GENTE PODE VER QUE É LOGINCOMSUCESSO NÃO É 
55
EU ESTOU FALANDO OLHA EU TENHO AQUI O MEU SERVIÇO DE LOGIN EU TENHO O MOCK 
56
COLOQUEI O MOCK DENTRO DELE QUANDO EU CHAMAR O MÉTODO LOGIN ELE TEM QUE 
57
COM GUERRA E SENHA ELE TEM QUE RETORNAR VERDADEIRO ESTÁ 
58
ENTÃO PARA ISSO EU PRECISO DIZER POR EXEMPLO 
59
QUE EU ESPERO QUE O MEU DAO OU SEJA O MOCK QUE ESTÁ NO LUGAR DO DAO 
60
NÃO É EU ESPERO QUE ELE RECEBA UMA CHAMADA COM GUERRA NÃO É 
61
ENTÃO O USUÁRIO QUE EU ESPERO QUE ELE RECEBA COMO PARÂMETRO É GUERRA 
62
E EU TAMBÉM VOU DIZER QUE EU QUERO QUE ELE RETORNE A SENHA SENHA ESTÁ 
63
ENTÃO O QUE É QUE EU ESTOU FALANDO ALI 
64
OLHA EU TENHO MOCK NO LUGAR DO DAO EU QUERO QUE ELE 
65
UMA CHAMADA DE MÉTODO DELE ELE VAI PERGUNTAR OLHA QUAL QUE É A SENHA DESSE 
66
USUÁRIO E ESSE USUÁRIO QUE ELE VAI PASSAR TEM QUE SER GUERRA E ESSE MÉTODO NÃO É 
67
DO DAO QUE VAI ESTAR RETORNANDO A SENHA O VALOR SENHA ESTÁ 
68
ENTÃO NESSAS DUAS CHAMADAS EU ESTOU CONFIGURANDO COMO EU 
69
QUERO QUE O MEU MOCK FUNCIONE 
70
ESTÁ 
71
E AÍ POR FIM EU VOU ALI 
72
E COLOCO DEPOIS DO ASSERT O MOCKVERIFICARCHAMADAS 
73
O QUE É QUE ESSE CARA VAI FAZER 
74
ELE VAI ESTAR VERIFICANDO SE A CHAMADA RECEBIDA PELO 
75
MOCK FOI AQUELA QUE EU ESPERAVA ESTÁ 
76
COMO EU JÁ DISSE ANTERIORMENTE VOCÊ CRIAR O MOCK FAZ PARTE DO TESTE 
77
ENTÃO EU VOU PARA O MEU MOCK ANTES DE COMEÇAR A CRIAR A CLASSE QUE EU ESTOU 
78
QUERENDO DESENVOLVER EU VOU LÁ E VOU CRIAR O MEU MOCK 
79
VOCÊS VÃO VER NO HANDS ON QUE O A PARTIR ALI DOS ATALHOS DO ECLIPSE TAMBÉM 
80
FACILITA BASTANTE EU JÁ IR FAZENDO ESSES MÉTODOS BROTAR ALI NA MINHA CLASSE 
81
NA CLASSE QUE ESTÁ REPRESENTANDO O MOCK ESTÁ 
82
ENTÃO VAMOS VER COMO QUE SERIA O MOCK AÍ PARA PODER CRIAR 
83
ESSE TESTE QUE EU ESTOU QUERENDO 
84
ENTÃO A PRIMEIRA COISA DO MOCK É QUE ELE 
85
PRECISA IMPLEMENTAR A INTERFACE E ELE PRECISA OBVIAMENTE 
86
SE ELE ESTÁ IMPLEMENTANDO A INTERFACE TER TODOS OS MÉTODOS QUE ELA DEFINE 
87
NO CASO ALI A MINHA INTERFACE DO DAO SERIA O USUARIODAO E NO CASO SERIA 
88
O MÉTODO QUE EU PRECISO SERIA O MÉTODO GETSENHA ONDE EU 
89
PASSO O USUÁRIO E ELE ME RETORNA A SENHA DESSE USUÁRIO ESTÁ 
90
UMA PEQUENA OBSERVAÇÃO AQUI ESSA NÃO É A FORMA MAIS SEGURA DE VOCÊ FAZER 
91
UMA AUTENTICAÇÃO RETORNANDO A SENHA CERTO 
92
A GENTE USA AÍ HASH E TUDO MAIS TEM MONTE DE COISAS ESTÁ É REALMENTE SÓ EXEMPLO 
93
NÃO VÁ FAZER DESSA FORMA O LOGIN DO SEU SISTEMA 
94
SEGUIDA EU VOU ADICIONAR NO MEU MOCK TODOS AQUELES MÉTODOS QUE EU DEFINI NO TESTE 
95
ENTÃO ESSES MÉTODOS ELES SÃO MÉTODOS DO MOCK 
96
NOTE QUE O MÉTODO DA CLASSE EU DEIXEI ALI @OVERRIDE NÃO É PARA A GENTE VER QUE É O 
97
MÉTODO DA INTERFACE E OS OUTROS MÉTODOS NÃO TEM NADA SÃO NADA 
98
SÃO MÉTODOS ESPECÍFICOS DO MOCK 
99
SÃO MÉTODOS QUE EU PRECISO QUE O MOCK TENHA PARA PODER FAZER O MEU TESTE 
100
ENTÃO É O USUARIOESPERADO RETORNASENHA E VERIFICACHAMADAS 
101
E AGORA O QUE EU PRECISO FAZER É IMPLEMENTAR A LÓGICA DO MOCK DE 
102
ACORDO COM O QUE EU QUERO QUE ELE VERIFIQUE PARA MIM ESTÁ 
103
ENTÃO VAMOS LÁ 
104
EU TENHO AQUI O MEU USUARIOESPERADO NÃO É 
105
QUE EU CONFIGURO E NOTE QUE EU GUARDO LÁ CIMA ENTÃO LÁ CIMA EU 
106
TENHO VARIÁVEIS PARA GUARDAR O USUÁRIO A SENHA E O USUÁRIO ESPERADO 
107
NO CASO ESSE USUÁRIO É O USUÁRIO QUE EU ESTOU RECEBENDO 
108
EFETIVAMENTE NO MÉTODO GETSENHA 
109
ESTÁ 
110
EU TIREI O @OVERRIDE ALI SÓ PARA FICAR MAIS CURTINHO AQUI PARA A GENTE VER ESTÁ 
111
ENTÃO O QUE É QUE EU FAÇO 
112
NO MÉTODO USUARIOESPERADO EU SIMPLESMENTE EU VOU GUARDAR ISSO DAÍ 
113
NO MÉTODO RETORNASENHA EU TAMBÉM VOU GUARDAR A SENHA QUE EU QUERO QUE ELE 
114
RETORNE 
115
NO MÉTODO GETSENHA O QUE É QUE ELE VAI FAZER 
116
ELE VAI GUARDAR O USUÁRIO QUE ELE RECEBER NO CASO NESSA VARIÁVEL 
117
DE INSTÂNCIA USUÁRIO E VAI RETORNAR A SENHA QUE ELE TEM CONFIGURADA 
118
QUE EU CONFIGUREI PELO MÉTODO RETORNASENHA 
119
E AÍ NO MÉTODO VERIFICARCHAMADAS ELE VAI VERIFICAR SE O USUÁRIO 
120
QUE ELE RECEBEU É IGUAL AO USUÁRIO QUE ELE ESPERAVA RECEBER 
121
E AÍ A GENTE CONSEGUE COM ISSO TER TESTE QUE EXECUTA 
122
TER TESTE QUE FALHA E AÍ O TESTE FALHANDO É TUDO O QUE A GENTE PRECISA DO TDD 
123
PARA SEGUIR FRENTE AO DESENVOLVIMENTO E CONTINUAR DESENVOLVENDO A CLASSE 
124
QUEM QUISER AÍ PRATICAR PODE PEGAR ESSE EXEMPLO AÍ 
125
FAZER O USUÁRIO LOGANDO COM SUCESSO O USUÁRIO FALHANDO NÃO É 
126
POR EXEMPLO COMO SIMULAR AÍ ERRO NO BANCO DE DADOS NÃO É 
127
QUE NÃO TEM A VER COM O RETORNO QUE É DADO CERTO 
128
ENTÃO TUDO ISSO DAÍ VOCÊ CONTINUARIA ALI O TDD 
129
DEPOIS QUE VOCÊ FIZESSE O PRIMEIRO TESTE PASSAR IRIA ACRESCENTANDO NOVOS 
130
TESTES TODOS ELES USANDO ALI O MOCK PARA CONTINUAR O DESENVOLVIMENTO 
131
BOM ENTÃO É ISSO NESSA AULA A GENTE VIU POUQUINHO COMO QUE A GENTE PROCEDE 
132
COMO É QUE A GENTE CRIA O TESTE NÃO É 
133
A GENTE FALOU MUITO SOBRE O MOCK OBJECT NAS AULAS ANTERIORES MAS NÃO FALAMOS 
134
MUITO COMO O USO DELE DENTRO DO TDD COMO QUE A GENTE VAI DEFININDO 
135
E CRIANDO O MOCK SEM NEM A DEPENDÊNCIA EXISTIR SEM NEM A CLASSE EXISTIR 
136
ENTÃO NESSA AULA A GENTE VIU POUQUINHO DESSES PASSOS 
137
COMO QUE A GENTE VAI PENSANDO ESPERA AÍ PARA DAR ESSE RESULTADO QUE EU QUERO EU 
138
PRECISO QUE A CLASSE RETORNE TAL COISA OU EU PRECISO QUE A CHAMADA DEPOIS EU TENHO 
139
QUE VERIFICAR SE ELA RECEBER TAL PARÂMETRO NA CHAMADA DELA NÃO É 
140
ENTÃO A GENTE FOI VENDO COMO PROCEDER DENTRO DESSE 
141
RACIOCÍNIO AÍ ENQUANTO A GENTE ESTÁ FAZENDO O TDD DE UMA CLASSE QUE TEM UMA 
142
DEPENDÊNCIA E A GENTE ESTÁ UTILIZANDO O MOCK OBJECT PARA DEFINIR TAMBÉM 
143
QUAIS SÃO OS MÉTODOS QUE ESSA DEPENDÊNCIA VAI TER CERTO 
144
MUITO OBRIGADO POR ASSISTIR E ATÉ À PRÓXIMA AULA 
145
[MÚSICA]