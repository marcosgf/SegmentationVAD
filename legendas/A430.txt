0
[MÚSICA] [MÚSICA] 
1
OLÁ A TODOS MEU NOME É EDUARDO GUERRA 
2
ESSE É O CURSO DE DESENVOLVIMENTO DE SOFTWARE GUIADO POR TESTES 
3
NA AULA DE HOJE VAMOS FALAR AÍ DAS DIRETIVAS DE MOCK OBJECT OU SEJA 
4
O QUE É QUE O MOCK OBJECT PRECISA FAZER 
5
QUAIS OS PAPEIS QUE ELE CUMPRE ALI DENTRO DO TESTE 
6
COMO ELE SE INSERE DENTRO DO TESTE 
7
ELE PRECISA VERIFICAR ALGUMA COISA 
8
ELE PRECISA TER DETERMINADO COMPORTAMENTO 
9
ENTÃO EU GOSTO DE ENTÃO ASSIM BASICAMENTE HOJE A GENTE VAI ENTENDER 
10
QUAIS SÃO OS TIPOS DE COISA QUE O MOCK OBJECT PRECISA FAZER 
11
EU GOSTO DE DIZER QUE O MOCK OBJECT PARECIDO COM O NOSSO AMIGO ROBOTCOP 
12
ELE TEM TRÊS DIRETIVAS QUE ELE PRECISA SEGUIR 
13
PODEM ESTAR ALI NA PROGRAMAÇÃO DO NOSSO MOCK OBJECT 
14
ENTÃO A PRIMEIRA DIRETIVA É IMITAR A INTERFACE DA DEPENDÊNCIA 
15
DEPOIS SIMULAR O COMPORTAMENTO DO CENÁRIO DE TESTE 
16
E POR FIM VERIFICAR AS CHAMADAS ESPERADAS DA CLASSE 
17
ENTÃO NO NOSSO EXEMPLO A GENTE TERIA AQUI POR EXEMPLO 
18
UMA CLASSE DE NEGÓCIOS QUE É O QUE A GENTE ESTÁ DESENVOLVENDO 
19
E ELA TEM ALÍ UMA CLASSE QUE ELA EXECUTA ALGUNS PROCESSOS 
20
QUE VOCÊ PASSA O NOME DO PROCESSO E ELA VAI ESTAR EXECUTANDO AQUILO ALGUM LUGAR 
21
MAIS OU MENOS EXECUTA O CADASTRAR O USUÁRIO 
22
ENTÃO ELE DE ALGUMA FORMA VAI EXECUTAR AQUILO 
23
E É JUSTAMENTE ESSA CLASSE QUE EXECUTA ESSES PROCESSOS QUE A GENTE VAI ESTAR 
24
CRIANDO O MOCK OBJECT AQUI NA NOSSA AULA 
25
ENTÃO A GENTE VAI VENDO A PARTIR DESSE EXEMPLO CADA UMA DAS DIRETIVAS 
26
E COMO A GENTE PODE ESTAR FAZENDO PARA IMPLEMENTAR AÍ CADA UMA 
27
BOM ENTÃO A PRIMEIRA COISA QUE O MOCK PRECISA 
28
É TER A MESMA INTERFACE DA DEPENDÊNCIA 
29
ENTÃO POR EXEMPLO EU VOU PEGAR O MEU MOCK OBJECT QUE SERIA ALÍ O EXECMOCK 
30
E VOU ESTAR IMPLEMENTANDO A INTERFACE EXECUTOR 
31
E AÍ OBVIAMENTE ESSE POR IMPLEMENTAR 
32
A INTERFACE EXECUTOR O MEU MOCK PRECISA TER TODOS OS MÉTODOS 
33
QUE ESSA INTERFACE EXECUTOR POSSUI 
34
EU TAMBÉM JÁ ENTRANDO AÍ NA SEGUNDA DIRETIVA 
35
EU PRECISO SIMULAR COMPORTAMENTOS PARA O CENÁRIO DE TESTE 
36
ENTÃO NO CASO SE A GENTE OBSERVAR O MÉTODO EXECUTAR AQUI ELE RETORNA BOOLEANO 
37
ENTÃO EU TENHO QUE COMO DE ALGUMA FORMA LÁ NO MEU TESTE CONFIGURAR 
38
OLHA EU QUERO QUE ELE RETORNE POR EXEMPLO 
39
ALÍ NO LUGAR DO RESULTADO O VALOR QUE EU PASSAR PRA ELE 
40
ENTÃO SE EU QUISER POR EXEMPLO QUE ELE RETORNE TRUE 
41
EU VOU ALÍ E CHAMO SETRESULTADO TRUE E SE EU QUISER QUE ELE RETORNE FALSE 
42
EU CHAMO SETRESULTADO FALSE 
43
ENTÃO ASSIM PODE SER OBVIAMENTE COM QUALQUER TIPO DE RETORNO QUE 
44
O MEU MOCK PRECISAR RETORNAR ALÍ NO MÉTODO 
45
NO CASO POR EXEMPLO DELE TER VÁRIOS MÉTODOS E PODER RETORNAR COISAS 
46
DIFERENTES ÀS VEZES NUMA MESMA CHAMADA DA CLASSE 
47
VOCÊ TEM QUE GUARDAR ISSO DAÍ DE ALGUMA FORMA PARA QUE NA HORA QUE A CLASSE 
48
CHAMAR O MOCK OBJECT ELE RETORNE O QUE VOCÊ ESTÁ QUERENDO 
49
ENTÃO O QUE É INTERESSANTE FALAR É DIZER 
50
QUE ESSE RETORNO DO MOCK ELE É PARTE DO CENÁRIO DE TESTE 
51
ENTÃO SE VOCÊ FALA ASSIM OLHA EU ESTOU CRIANDO CASO DE TESTE NO CASO DA EXECUÇÃO 
52
DA DEPENDÊNCIA DAR VERDADEIRO OU NO CASO DA EXECUÇÃO DA DEPENDÊNCIA DAR FALSO 
53
ISSO FAZ PARTE DO CENÁRIO DO TESTE 
54
LEMBRANDO QUE COMO O RESULTADO DE EXECUÇÃO DO TESTE 
55
DO MÉTODO DO MOCK NÃO NECESSÁRIAMENTE VAI SER RETORNO 
56
MAS PODE POR EXEMPLO SER UMA EXCEÇÃO QUE ESTÁ SENDO LANÇADA 
57
ENTÃO NESSE CASO EU TAMBÉM CRIEI AQUI MÉTODO SETEXCEPTION 
58
QUE EU CONFIGURO ALÍ UMA EXCEÇÃO DENTRO DE UMA VARIÁVEL 
59
E EU VERIFICO DENTRO DO MEU MÉTODO EXECUTAR SE AQUELA EXCEÇÃO FOR 
60
DIFERENTE DE NULA OU SEJA SE O MEU TESTE CONFIGURAR ALGUMA COISA ALÍ 
61
ELE VAI LANÇAR AQUELA EXCEÇÃO COMO RESULTADO 
62
TAMBÉM PARTE DO CENÁRIO DE TESTE OU SEJA 
63
EU QUERO TESTAR A MINHA CLASSE NO CASO DA DEPENDÊNCIA DELA JOGAR UMA EXCEÇÃO 
64
QUERO VER SE ELA SE COMPORTA DE FORMA CORRETA NESSES CASOS 
65
E AÍ POR FIM A ÚLTIMA DIRETIVA DO MOCK É VERIFICAR 
66
AS CHAMADAS ESPERADAS PELA CLASSE ENTÃO POR EXEMPLO 
67
EU CHAMEI VOU SUPOR MINHA CLASSE LÁ ELA VAI CHAMAR 
68
ESSA CLASSE EXECUTORA AÍ POR EXEMPLO COM SEI 
69
LÁ DUAS VEZES COM A STRING CALCULAR ALGUMA COISA 
70
OU CADASTRAR ALGUMA COISA ENTÃO EU TENHO QUE VERIFICAR NO TESTE SE 
71
A MINHA CLASSE FEZ AS CHAMADAS CORRETAS OU COM OS PARÂMETROS CORRETOS 
72
OU QUANTIDADE CORRETA NA DEPENDÊNCIA DELA 
73
ENTÃO O QUE A GENTE PRECISA FAZER 
74
NO MÉTODO EXECUTAR REPARE QUE AGORA ANTES ERA ASSIM 
75
EU CONFIGURAVA ALGUMA COISA PARA O EXECUTAR FAZER 
76
AGORA O EXECUTAR ELE VAI GUARDAR AS INFORMAÇÕES DA CHAMADA 
77
ENTÃO SE EU PRECISAR DESSE TIPO DE VERIFICAÇÃO EU PRECISO QUE 
78
ELE GUARDE ALÍ O RESULTADO OU OS PARÂMETROS 
79
OU A QUANTIDADE DE CHAMADAS DEPENDENDO DO QUE EU QUERO VERIFICAR 
80
NO CASO ALÍ ELE RECEBE UMA STRING COMO PARAMETRO E EU ESTOU GUARDANDO ESSA STRING 
81
UMA LISTA CHAMADA ALÍ EXECUÇÕES 
82
E AÍ EU CRIO MÉTODO ESSE MÉTODO ELE É DO MOCK ASSIM COMO AQUELES MÉTODOS NÉ 
83
EU VOU VOLTAR POUQUINHO AQUI 
84
O MÉTODO SETEXCEPTION OU O MÉTODO SETRESULTADO ESSES MÉTODOS SÃO MÉTODOS 
85
DO MOCK NÃO SÃO MÉTODOS DA INTERFACE SÃO MÉTODOS QUE QUEM VAI UTILIZAR É O TESTE 
86
VAMOS VOLTAR AQUI ENTÃO PARA O NOSSO MÉTODO VERIFICA 
87
QUE ASSIM COMO AQUELES QUE EU MOSTREI AQUI SÃO MÉTODOS DO MOCK 
88
E AÍ POR EXEMPLO EU VOU PASSAR PARA ELE UMA LISTA DE STRING COM AS EXECUÇÕES E VOU 
89
VERIFICAR AQUI NO CASO SE TODAS AQUELAS EXECUÇÕES FORAM REALMENTE CHAMADAS 
90
NESSE CASO AQUI REPARE QUE ELE TEM FOR QUE ELE VAI 
91
PASSANDO PELAS VERIFICAÇÕES E ELE TEM IF QUE VERIFICA 
92
SE AQUELA EXECUÇÃO ESTÁ CONTIDA NA LISTA DE EXECUÇÕES QUE ELE GUARDOU 
93
ENTÃO BASICAMENTE O QUE EU ESTOU FAZENDO É O SEGUINTE EU ESTOU VERIFICANDO SE AS 
94
EXECUÇÕES QUE EU PASSEI PARA ELE ALGUM MOMENTO FORAM CHAMADAS 
95
POR ESSA IMPLEMENTAÇÃO VOU FAZER UMA PERGUNTA PARA VOCÊ SE EU PASSAR 
96
SE TIVER UMA EXECUÇÃO QUE NÃO ESTIVER NESSA LISTA QUE EU PASSEI PARA ELE 
97
IMAGINA QUE EU PASSO UMA LISTA COM DUAS EXECUÇÕES E NA VERDADE ELE 
98
TEM EXECUTADO TRÊS SENDO QUE ESSAS DUAS ESTÃO CONTIDAS NESSAS TRÊS 
99
ELE VAI DAR ALGUM PROBLEMA 
100
RESPONDE AÍ 
101
NÃO ELE NÃO VAI DAR PORQUÊ 
102
PORQUE ELE SÓ VERIFICA SE AS EXECUÇÕES ESTÃO CONTIDAS NAS 
103
QUE EU PASSEI PARA ELE ENTÃO SE EU TIVER ALGUMA A MAIS 
104
A PRINCÍPIO ELE NÃO VAI DAR PROBLEMA OU SE EU CHAMAR SE 
105
ESSAS EXECUÇÕES FOREM CHAMADAS NUMA ORDEM DIFERENTE TAMBÉM NÃO VAI DAR PROBLEMA 
106
E AÍ SE VOCÊ FALAR NÃO MAS EU QUERO QUE SEJAM CHAMADAS EXATAMENTE AQUELAS 
107
E EXATAMENTE NA ORDEM QUE EU PASSAR 
108
AÍ EU POSSO IR LÁ E CRIAR POR EXEMPLO MÉTODO DE VERIFICAÇÃO DIFERENTE 
109
ENTÃO NESSE CASO EU CHAMEI DE VERIFICA SEQUÊNCIA ENTÃO NOTE QUE ELE PEGA 
110
ELE VAI DO 1 ATÉ AO TAMANHO E AÍ ELE 
111
VARIFICA SE AQUELA POSIÇÃO 
112
DO QUE FOI EXECUTADO É IGUAL ÀQUELA POSIÇÃO DO QUE EU PASSEI PARA ELE 
113
ENTÃO EUU ESTOU DANDO ESSE EXEMPLO PARA MOSTRAR QUE EU POSSO TER VÁRIAS EXECUÇÕES 
114
DIFERENTES VÁRIOS MÉTODOS QUE VERIFICAM A EXECUÇÃO DE UMA FORMA DIFERENTE 
115
ENTÃO EU POSSO TER QUE VERIFICA SEQUENCIA 
116
EU POSSO TER OUTRO QUE VERIFICA SÓ SE FOI EXECUTADO OU NÃO 
117
A ORDEM ISSO TUDO DEPENDE DOS REQUISITOS DA SUA CLASSE 
118
NESSE CASO VOCÊ NÃO TEM QUE CHAMAR O VERIFICASEQUENCIA SÓ POR QUE É DESSE 
119
JEITO QUE ELE REALMENTE EXECUTA 
120
NÃO MAS VOCÊ TEM QUE CHAMAR O VERIFICASEQUENCIA SE EXISTE 
121
REQUISITO PARA A SUA CLASSE NO QUAL AQUELA SEQUÊNCIA É IMPORTANTE 
122
LEMBRANDO SEMPRE QUANDO A GENTE CRIA MOCK A GENTE TEM QUE CRIAR ESSAS 
123
VERIFICAÇÕES DE ACORDO COM OS REQUISITOS DA CLASSE QUE A GENTE ESTÁ CRIANDO 
124
E NÃO DO JEITO QUE ELA REALMENTE FUNCIONA 
125
PORQUÊ 
126
PORQUE ÀS VEZES EU POSSO MODIFICAR ESSA CLASSE DE UMA FORMA VÁLIDA E ÀS 
127
VEZES ELE TROCAR UMA ORDEM OU ALGUMA COISA NA CHAMADA E ISSO AÍ AÍ ELA VAI 
128
CONTINUAR CORRETA MAS O MEU TESTE VAI FALHAR POR QUÊ 
129
PORQUE EU AMARREI DEMAIS A FORMA QUE EU DISSE 
130
QUE TINHA QUE SER A EXECUÇÃO DA CLASSE 
131
ENTÃO VAMOS DAR UMA OLHADA NO TESTE COMO QUE FICARIA TESTE USANDO ISSO AÍ 
132
ENTÃO NOTE QUE EU POR EXEMPLO IMAGINO QUE TEM UMA CLASSE ALI QUE CRIA RANKING 
133
NÉ PEGANDO O GANCHO QUE O NOSSO PROJETO VAI SER DE GAMIFICATION 
134
O PROJETO AÍ DE FINAL DE CURSO DO PROGRAMA DE CURSOS INTEGRADOS ENTÃO VAMOS 
135
PEGAR ESSE EXEMPLO AQUI QUE EU TENHO QUE CRIAR RANKING E O QUE QUE EU VOU FAZER 
136
EU PRECISO DESSA CLASSE EXECUTOR 
137
ENTÃO EU VOU CRIAR EXECMOCK E VOU UTILIZAR O MÉTODO SET 
138
NO CASO EU ESTOU USANDO DOS TIPOS DE INJEÇÃO QUE A GENTE VIU NA AULA ANTERIOR 
139
ESTOU USANDO AÍ A INJEÇÃO DE DEPENDÊNCIA PARA COLOCAR O MOCK 
140
AÍ EU CHAMO O MÉTODO CRIAR QUE SERIA EXATAMENTE A FUNCIONALIDADE SI QUE EU 
141
QUERO VERIFICAR QUE EU QUERO EXECUTAR E AÍ EU QUERO SABER SE ESSA CLASSE 
142
SE ESSE CRIADOR RANKING CHAMOU OS MÉTODOS SE CHAMOU O MÉTODO EXECUTAR 
143
QUE ELE DEVERIA CHAMAR ALI NA CLASSE NA DEPENDÊNCIA NO EXECMOCK 
144
ENTÃO EU CHAMARIA O MOCKVERIFICA ALI ORDENAR PONTOS 
145
ESCOLHER GANHADORES E MANDAR E-MAIL PARA OS VENCEDORES 
146
ENTÃO EU VOU ESTAR VERIFICANDO SE TODAS ESSAS EXECUÇÕES FORAM 
147
CHAMADAS ALI NO MOCK 
148
BOM EU SEI QUE VOCÊ PODE AGORA ESTAR COMEÇANDO A FICAR PREOCUPADO DE 
149
QUE CRIAR ESSES MOCKS DE ACORDO COM A DEPENDÊNCIA QUE VOCÊ PRECISAR 
150
SE ELA TIVER VÁRIOS MÉTODOS OU TIVER VÁRIAS POSSIBILIDADES 
151
OU RECEBER VÁRIOS PARÂMETROS ISSO AÍ PODE FICAR MUITO COMPLICADO 
152
A REALIDADE É QUE REALMENTE PODE FICAR COMPLICADO 
153
DEPENDENDO DO MOCK ELE PODE SE ELE TIVER VÁRIOS MÉTODOS 
154
PODE REALMENTE FICAR BEM COMPLICADO ESTAR CRIANDO ESSES MOCKS NA MÃO 
155
FELIZMENTE TEMOS FRAMEWORKS QUE FUNCIONAM COMO FÁBRICAS DE MOCK OU SEJA 
156
VOCÊ NÃO PRECISA IR LÁ E CRIAR UMA CLASSE ARQUIVO SEPARADO PARA O SEU MOCK 
157
VOCÊ PODE NO PRÓPRIO MÉTODO DE TESTE FALAR ASSIM OLHA CRIA PARA MIM MOCK 
158
DESSA INTERFACE QUE QUANDO CHAMAR O MÉTODO TAL ELE VAI RETORNAR TAL COISA 
159
E VERIFICA SE ELE CHAMOU ESSE CARA UMA VEZ COM TAL PARÂMETRO 
160
ENTÃO EXISTEM FRAMEWORKS DE MOCK QUE TÊM ESSA FUNCIONALIDADE 
161
FACILITAM BASTANTE A VIDA NÃO ESTÁ NO ESCOPO DESTE 
162
CURSO INICIAL AQUI DE TDD FALAR SOBRE ESSES FRAMEWORKS 
163
MAS EU ACHO IMPORTANTE NESSE MOMENTO DIZER PARA VOCÊ QUE ESSES FRAMEWORKS EXISTEM E 
164
EU ATÉ ACONSELHO QUE VOCÊS PROCUREM EU JÁ POSSO DAR ALGUNS NOMES AQUI COMO JMOCK 
165
O EASYMOCK O MOCKITO JAVA E OUTRAS LINGUAGENS 
166
TAMBÉM TEM VÁRIOS FRAMEWORKS PARA CRIAÇÃO DE MOCK OBJECT 
167
CERTO ENTÃO FICA AÍ OPCIONAL PARA VOCÊS FAZEREM ESSA PESQUISA 
168
ENTÃO ESPERO QUE COM ISSO NESSA AULA VOCÊS TENHAM CONSEGUIDO ENTENDER 
169
ESSAS DIRETIVAS DO MOCK OBJECT COMO A GENTE VIU SÃO 3 
170
UMA DELAS VOCÊ TER A MESMA INTERFACE DA DEPENDÊNCIA 
171
A SEGUNDA VOCÊ ESTAR SIMULANDO O COMPORTAMENTO DA CLASSE 
172
COM RETORNOS EXCEÇÕES E ETC E TERCEIRO ESTAR 
173
VERIFICANDO AS CHAMADAS FEITAS PELA CLASSE QUE ESTÁ SENDO TESTADA 
174
CERTO ENTÃO VENDO ESSAS 3 DIRETIVAS A GENTE PERCEBE QUAL QUE É O PAPEL 
175
QUAIS OS TIPOS DE COISA O MOCK OBJECT PODE FAZER 
176
CERTO 
177
MUITO OBRIGADO POR ASSISTIR ATÉ A PRÓXIMA AULA 
178
[MÚSICA]