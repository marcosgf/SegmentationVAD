0
[MÚSICA] FALA 
1
PESSOAL TUDO BEM 
2
NESTA AULA VAMOS CONTINUAR IMPLEMENTANDO IAPPS EM NOSSO APLICATIVO 
3
DESTA VEZ VAMOS TRATAR DE IMPLEMENTAR O CÓDIGO EM NOSSO PROJETO DE XCODE 
4
PARA QUE POSSAMOS FINALMENTE APRESENTAR AO USUÁRIO DE NOSSO APLICATIVO 
5
AS OPÇÕES DE COMPRAS QUE ELE TERÁ À DISPOSIÇÃO 
6
SEM ENROLAR MAIS VAMOS CONTINUAR COM A NOSSA AULA DE IAPP 
7
VAMOS COMEÇAR ENTÃO ABRINDO O NOSSO PROJETO NO XCODE 
8
COMO EU DISSE ANTES VOU CONTINUAR USANDO O NOSSO PROJETO DAS AULAS ANTERIORES 
9
MAS VOCÊ PODE USAR SEU PRÓPRIO APP SE PREFERIR 
10
ANTES DE MAIS NADA 
11
VAMOS CRIAR UMA NOVA VIEWCONTROLLER PARA CUIDAR DA SELEÇÃO E VENDA DE NOSSOS IAPPS 
12
COMO GERALMENTE TEMOS VÁRIOS ITENS PARA VENDER AO USUÁRIO 
13
VAMOS COLOCAR UMA TABELA EM NOSSA VIEW ASSIM TEREMOS UMA LISTA DOS ITENS À VENDA 
14
PRECISAREMOS TAMBÉM DE UMA CÉLULA EM NOSSA TABELA SENÃO NÃO ADIANTA NADA 
15
EM NOSSA CÉLULA VAMOS ESCOLHER O ESTILO SUBTITLE 
16
ASSIM ELA CRIARÁ TÍTULO E SUBTÍTULO AUTOMATICAMENTE 
17
ESCOLHA IDENTIFICADOR PARA A SUA NOVA CÉLULA 
18
POR FIM ESCOLHA DISCLOSURE INDICATOR EM ACCESSORY 
19
VOLTANDO À NOSSA NOVA VIEWCONTROLLER PRECISAMOS DE BOTÃO DE RETORNO 
20
À TELA PRINCIPAL PORQUE VAMOS APRESENTAR A NOSSA TELA DE COMPRAS DE MODO MODAL 
21
APROVEITE PARA DAR NOME MAIS EXPLICATIVO PARA ELE 
22
VAMOS DEIXAR A NOSSA NOVA VIEW DE LADO SÓ POUCO 
23
PORQUE PRECISAMOS MODIFICAR ALGUMAS COISAS EM NOSSA VIEW PRINCIPAL 
24
EM NOSSA TELA INICIAL PRECISAMOS DE 2 ELEMENTOS 
25
PRIMEIRO PRECISAMOS DE TER BOTÃO QUE NOS ENVIARÁ PARA A TELA DE COMPRAS 
26
AGORA PRECISAMOS DE LABEL QUE NOS INDICARÁ SE NOSSO ITEM FOI LIBERADO COM 
27
SUCESSO OU NÃO 
28
APROVEITE PARA CRIAR A PROPERTY DESSE LABEL UMA VEZ QUE ELE SERÁ 
29
MODIFICADO DINAMICAMENTE 
30
[SEMÁUDIO] POR 
31
FIM VAMOS LINKAR O NOSSO BOTÃO COM A NOSSA TELA DE COMPRAS 
32
NÃO SE ESQUEÇA DE ESCOLHER IDENTIFICADOR PARA ESSE LINK 
33
A PARTIR DE AGORA VAMOS TRABALHAR SOMENTE NA SUA TELA DE COMPRAS 
34
ENTÃO PARA COMEÇAR VAMOS CRIAR CONTROLADOR PARA ELA 
35
PARA ISSO VAMOS CRIAR NOVA CLASSE COCOA TOUCH 
36
QUE É A SUBCLASSE DE UIVIEWCONTROLLER 
37
NÃO SE ESQUEÇA DE LINKAR SEU CONTROLADOR COM SUA TELA NO STORYBOARD 
38
ANTES DE COLOCARMOS QUALQUER LINHA DE CÓDIGO 
39
PRECISAMOS SEGUIR 2 PASSOS EM NOSSO PROJETO 
40
PRIMEIRO PRECISAMOS SELECIONAR NOSSA CONTA DE DESENVOLVEDOR 
41
PARA ISSO CLIQUE NO ÍCONE DE SEU PROJETO 
42
NO MENU DA ESQUERDA E EM TEAM ESCOLHA A SUA CONTA 
43
SEGUNDO PRECISAMOS HABILITAR A OPÇÃO DE IAPP EM NOSSO APP 
44
NA ABA CAPABILITIES PROCURE POR IN-APP PURCHASE E MUDE SEU SWITCH PARA ON 
45
O XCODE AUTOMATICAMENTE IMPORTARÁ O FRAMEWORK STOREKIT 
46
EM SEU APP E HABILITARÁ A OPÇÃO IAPP AO SEU APP ID 
47
CASO O XCODE ENCONTRE ALGUM PROBLEMA CLIQUE EM FIX ISSUE PARA QUE ELE ARRUME 
48
E FINALMENTE VAMOS AO CÓDIGO 
49
VAMOS PRECISAR DE VÁRIAS FUNÇÕES E VARIÁVEIS DIFERENTES 
50
ENTÃO TALVEZ O PROCESSO TODO SEJA POUCO CONFUSO 
51
SE VOCÊ NÃO ENTENDER ALGUM PASSO 
52
PROCURE ASSISTIR NOVAMENTE À AULA E LER OS COMENTÁRIOS JUNTO DAS FUNÇÕES 
53
SE SUA DÚVIDA PERSISTIR 
54
ENTRE EM CONTATO COM OUTROS PROGRAMADORES ATRAVÉS DE NOSSO FÓRUM DE DISCUSSÕES 
55
PARA COMEÇAR VAMOS IMPORTAR O FRAMEWORK DO STOREKIT EM NOSSA TELA DE COMPRAS 
56
[SEM ÁUDIO] AGORA VAMOS 
57
DECLARAR UMA VARIÁVEL QUE RECEBERÁ OS IDS DE NOSSOS PRODUTOS E UMA SEGUNDA VARIÁVEL 
58
QUE ARMAZENARÁ NOSSOS PRODUTOS À VENDA 
59
PRECISAMOS TAMBÉM IMPORTAR O PROTOCOLO SKPRODUCTSREQUESTDELEGATE 
60
EM NOSSA TELA DE COMPRAS 
61
ERRO APARECERÁ MAS NÃO SE PREOCUPE COM ELE POR ENQUANTO 
62
VAMOS AGORA INSERIR EM NOSSO ARRAY DE IDS O ID DE NOSSO ITEM 
63
AGORA PRECISAMOS DE UMA FUNÇÃO QUE RECEBE AS INFORMAÇÕES DO ITUNES 
64
CONNECT SOBRE O ITENS QUE TEMOS À VENDA 
65
ESTA FUNÇÃO PRIMEIRO VERIFICA SE O DEVICE DO USUÁRIO ACEITA COMPRAS IN-APP 
66
CASO ACEITE SOLICITAMOS AS INFORMAÇÕES DE NOSSOS PRODUTOS ATRAVÉS DE SEUS IDS 
67
ANTES DE PROSSEGUIRMOS PRECISAMOS FALAR PARA O NOSSO APP 
68
CHAMAR ESTA FUNÇÃO ASSIM QUE A TELA DE COMPRAS FOR ABERTA 
69
AGORA PRECISAMOS DE UMA FUNÇÃO QUE RECEBE A INFORMAÇÃO SOLICITADA SOBRE OS 
70
NOSSOS PRODUTOS 
71
ESTA FUNÇÃO RECEBE ARRAY SOBRE OS NOSSOS PRODUTOS 
72
EM QUE CONTÊM AS INFORMAÇÕES DE NOSSOS PRODUTOS REGISTRADOS NO ITUNES CONNECT 
73
PRIMEIRO A FUNÇÃO VERIFICA SE O ARRAY PASSADO NÃO ESTÁ VAZIO 
74
CASO NÃO ESTEJA A VARIÁVEL PRODUCTSARRAY RECEBE CADA ELEMENTO DESTE ARRAY 
75
POR FIM RECARREGAMOS OS DADOS EM NOSSA TABELA 
76
ANTES DE PROSSEGUIRMOS COM NOSSAS FUNÇÕES DE COMPRA 
77
PRECISAMOS MODIFICAR ALGUMAS PROPRIEDADES DE NOSSA TABELA 
78
PARA ISSO VAMOS COMEÇAR IMPORTANDO PARA A NOSSA TELA 2 PROTOCOLOS PARA ELA 
79
NO VIEWDIDLOAD VAMOS FALAR PARA O NOSSO APP QUE A NOSSA TABELA SEGUE ESTES 
80
PROTOCOLOS 
81
VAMOS PRECISAR DE 4 FUNÇÕES PARA A NOSSA TABELA 
82
A PRIMEIRA FUNÇÃO VERIFICA O NÚMERO DE SESSÕES QUE A NOSSA TABELA TEM 
83
VAMOS PRECISAR DE APENAS UMA 
84
A SEGUNDA É UMA FUNÇÃO QUE VÊ QUANTAS CÉLULAS NOSSA TABELA PRECISA 
85
CALCULAMOS ESTE VALOR ATRAVÉS DO NÚMERO DE PRODUTOS EM NOSSA ARRAY 
86
A TERCEIRA 
87
MOSTRA PARA O NOSSO APP COMO ELE DEVE MONTAR AS CÉLULAS DE NOSSA TABELA 
88
AS INFORMAÇÕES SÃO PASSADAS ATRAVÉS DE NOSSO ARRAY DE PRODUTOS 
89
A QUARTA FUNÇÃO RECEBE O VALOR DA LINHA SELECIONADA PELO USUÁRIO E O GUARDA NA 
90
VARIÁVEL SELECTEDPRODUCT INDEX 
91
POR FIM CHAMAMOS A FUNÇÃO SHOWACTION MAS COMO VOCÊ PODE NOTAR 
92
AINDA NÃO DECLARAMOS NEM A VARIÁVEL NEM A FUNÇÃO 
93
ENTÃO É ISSO QUE PRECISAMOS FAZER AGORA 
94
PRIMEIRO VAMOS DECLARAR A VARIÁVEL QUE IRÁ GUARDAR O VALOR DA LINHA SELECIONADA 
95
AGORA PRECISAMOS DECLARAR A FUNÇÃO SHOWACTIONS 
96
NESTA FUNÇÃO 
97
APRESENTAMOS AO USUÁRIO AS OPÇÕES QUE ELE TEM CASO CLIQUE EM ITEM À VENDA 
98
CASO O USUÁRIO CLIQUE EM COMPRAR 
99
INICIAMOS UMA SESSÃO DE COMPRA ATRAVÉS DE SKPAYMENT 
100
PASSAMOS O VALOR DA LINHA ESCOLHIDA NA TABELA 
101
ENTÃO IDENTIFICAMOS O ITEM QUE O USUÁRIO QUER COMPRAR 
102
PARA QUE A NOSSA SESSÃO FUNCIONE 
103
PRECISAMOS IMPORTAR MAIS PROTOCOLO PARA NOSSA TELA 
104
[SEMÁUDIO] ENTÃO DIZEMOS 
105
AO NOSSO APLICATIVO QUE VAMOS UTILIZAR ESTE PROTOCOLO EM NOSSAS TRANSAÇÕES 
106
A ETAPA FINAL QUE ENVOLVE A NOSSA TRANSAÇÃO É MONTAR UMA FUNÇÃO QUE NOS DIZ 
107
SOBRE AS ETAPAS DA TRANSAÇÃO 
108
DESTA FORMA SABEREMOS SE CORREU TUDO BEM OU SE OCORREU ALGUM PROBLEMA 
109
ESTA FUNÇÃO OBSERVA APENAS SE A TRANSAÇÃO OCORREU TUDO BEM OU NÃO 
110
MAS PODE-SE OBSERVAR VÁRIAS OUTRAS ETAPAS CASO SEJA NECESSÁRIO 
111
COMO VOCÊ PODE VER HÁ O ELEMENTO DELEGATE NÃO IDENTIFICADO PELO XCODE 
112
MAS POR ENQUANTO VOU DEIXAR VOCÊ APENAS NA CURIOSIDADE 
113
VAMOS FAZER MAIS UMA PAUSA E NA PRÓXIMA AULA VAMOS FINALMENTE VER O IAPP 
114
FUNCIONANDO EM SEU DEVICE 
115
ESPERO QUE VOCÊ TENHA GOSTADO ATÉ AGORA 
116
NOS VEMOS NA PRÓXIMA AULA 
117
ATÉ LÁ