0
[MÚSICA] OLÁ 
1
BEM VINDO AO CURSO SOBRE TDD 
2
EU SOU O CLOVIS FERNANDES E HOJE IREMOS DAR CONTINUIDADE À APRESENTAÇÃO DO 
3
EXEMPLO DE REFATORAÇÃO PARA TRATAR MAU CHEIRO PARA UMA CONDICIONAL 
4
COMANDO CONDICIONAL IF THEN ELSE TANTO COMPLICADO E DIFÍCIL DE ENTENDER 
5
PARA ISSO USAMOS O DECOMPOSE CONDITIONAL QUE NÓS JÁ 
6
APRESENTAMOS NA PARTE O INÍCIO DA REFATORAÇÃO DECOMPOSE CONDITIONAL 
7
QUE FOI TRATAR A EXPRESSÃO BOOLEANA QUE ERA DIFÍCIL DE ENTENDER ESTÁ CERTO 
8
E NESSA 2 PARTE IREMOS TRATAR AS DUAS EXPRESSÕES TANTO NA PARTE THEN 
9
QUANTO NA PARTE ELSE 
10
RELEMBRANDO ENTÃO QUE TÍNHAMOS ESSE IF THEN ELSE AÍ 
11
É NÓS EXTRAÍMOS A EXPRESSÃO BOOLEANA TANTO COMPLICADA 
12
PARA UMA MANEIRA BEM MAIS SIMPLES ESTÁ CERTO 
13
FICOU AÍ IF ISNOTVERAO DATA ESTÁ CERTO 
14
EMBAIXO TEM O MÉTODO PRIVADO 
15
FEITO ESSE EXTRACT TESTAMOS A BATERIA DE TESTES NOVAMENTE ESTÁ CERTO 
16
E AÍ O QUE RESTA FAZER 
17
É TRATAR O PROBLEMA DAS EXPRESSÕES QUE NÃO EXPRESSAM A INTENÇÃO OU FINALIDADE ESTÁ 
18
EU TENHO LÁ 2 EXPRESSÕES QUE EU TERIA QUE GASTAR TEMPO PARA ENTENDER ESTÁ CERTO 
19
QUEM VAI FICAR ENCARREGADO DE FAZER ISSO É USANDO ISSO QUE EU ESTOU 
20
CHAMANDO DE EXTRACT THE EXPRESSION INTO A METHOD 
21
MAS QUE NÃO EXISTE ISSO NÃO É UMA TÉCNICA DE REFATORAÇÃO OFICIAL 
22
PORQUE ELA É PARTE DO REPLACE TEMP WITH QUERY 
23
QUERY É COMO SE FOSSE GETTER ESTÁ CERTO 
24
ENTÃO É A PARTE QUE EU SIMPLESMENTE TRANSFORMO ESSA EXPRESSÃO NUM 
25
MÉTODO NÃO É 
26
QUE EU FAÇO EXTRACT METHOD DA EXPRESSÃO ESTÁ CERTO 
27
ISSO EFETUOU A EXPRESSÃO PELO CÓDIGO QUE EU ACABEI DE CRIAR ESTÁ CERTO 
28
É BASICAMENTE ISSO QUE EU VOU FAZER 
29
ENTÃO VEJAM AÍ QUE EU TENHO DUAS EXPRESSÕES 
30
O CERTO É FAZER UMA EXPRESSÃO FAZER A REFATORAÇÃO DA 1 EXPRESSÃO 
31
TESTA A BATERIA DA 2 EXPRESSÃO TESTA A BATERIA E AÍ EU JOGO III AQUI III 
32
POR QUESTÕES DIDÁTICAS EU VOU FAZER DAS DUAS ESTÁ CERTO 
33
AO MESMO TEMPO 
34
ENTÃO VOCÊS PERCEBAM QUE EU TENHO DUAS EXPRESSÕES AÍ E QUANDO EU VOU EXTRAIR 
35
UMA DAS COISAS QUE EU TENHO QUE PRESTAR BASTANTE ATENÇÃO SEMPRE NO EXTRACT 
36
METHOD ISSO É NORMA EU VOU OLHAR AS VARIÁVEIS TEMPORÁRIAS ESTÁ CERTO 
37
ENTÃO USANDO AQUELA CONVENÇÃO DE PÔR UNDERLINE NAS 
38
COMO PREFIXO DAS VARIÁVEIS DE INSTÂNCIA ESTÁ CERTO 
39
É POR ISSO QUE EU TENHO TRÊS VARIÁVEIS DE INSTÂNCIA E CUSTO É UMA TEMPORÁRIA E 
40
QUANTIDADE É TEMPORÁRIA 
41
DENTRO DO CÓDIGO NA PARTE QUE EU VOU REFATORAR SÓ TEM QUANTIDADE 
42
BOM SE A TEMPORÁRIA NÃO É ALTERADA DENTRO DO TRECHO QUE EU VOU REFATORAR EU VOU 
43
EXTRAIR É ELA VAI PASSAR COMO PARÂMETRO ESSE MÉTODO QUE EU ESTOU CRIANDO 
44
SE ELA MUDASSE ALTERASSE ALGUM VALOR 
45
ENTÃO NÓS A DEVOLVERÍAMOS ATRAVÉS DE RETURN 
46
ENTÃO O MÉTODO TERIA QUE DEVOLVER ESSA VARIÁVEL DE ALGUMA FORMA ESTÁ CERTO 
47
ENTÃO NO CASO AQUI A TEMPORÁRIA É INALTERADA 
48
ENTÃO ELA VAI SER PASSADA COMO PARÂMETRO NÃO É 
49
A TEMPORÁRIA QUANTIDADE 
50
OUTRA COISA EU VOU PEGAR CADA UMA DESSAS EXPRESSÕES E TENTAR ENTENDER O 
51
SIGNIFICADO DESSA EXPRESSÃO PORQUE O 
52
PROBLEMA DELA É DE NÃO EXPRESSAR A INTENÇÃO A SUA FINALIDADE 
53
ENTÃO NO 1 CASO EU ESTOU QUERENDO NO FUNDO FAZER CÁLCULO 
54
DO CUSTO DE INVERNO PELA QUANTIDADE QUE EU ESTIVER GASTANDO 
55
E NA 2 É O CUSTO VERÃO PELA QUANTIDADE ESTÁ CERTO 
56
ENTÃO FAZENDO A REFATORAÇÃO VEJA COMO JÁ FICOU BASTANTE MAIS SIMPLES NÃO É 
57
IF ISNOTVERAO DATA CUSTO IGUAL A CUSTOINVERNO 
58
QUANTIDADE ELSE CUSTO IGUAL A CUSTOVERÃO QUANTIDADE 
59
VEJA QUE AGORA TUDO ESTÁ SENDO EXPRESSO DE UMA MANEIRA MUITO CLARA NÃO É 
60
O SIGNIFICADO A FINALIDADE DO QUE EU ESTOU QUERENDO EXPRESSAR O ALGORITMO 
61
AGORA FICOU CLARO OU SEJA SE VOCÊS LEREM O DE CIMA E LEREM O DE BAIXO ESTÁ CERTO 
62
JÁ FICOU BEM MELHOR ESTÁ CERTO 
63
O QUE ESTÁ OCORRENDO AINDA DE BOM COMO É QUE FICARAM ESSES ESSES MÉTODOS NÃO É 
64
ESTÁ CERTO 
65
VOCÊS PERCEBAM QUE OS DOIS MÉTODOS SÃO PRIVADOS 
66
ENTÃO NORMALMENTE NO EXTRACT METHOD EU EXTRAIO MÉTODOS PRIVADOS NÃO É 
67
ESTÁ CERTO 
68
VOCÊS PERCEBAM QUE O CÓDIGO INTERNO NO RETURN DE CADA DELES É LITERALMENTE 
69
A MESMA COISA QUE ESTAVA NO CÓDIGO QUE EU ESTAVA REFATORANDO ESTÁ CERTO 
70
ENTÃO O QUE ESSE TRECHO CONTINUA 
71
NÃO TENDO EXPRESSÃO NENHUMA MAS O QUÊ QUE DÁ A EXPRESSÃO DA INTENÇÃO 
72
OS NOMES DOS MÉTODOS ESTÁ CERTO 
73
CUSTOINVERNO EXPRESSA INTENÇÃO DESSA EXPRESSÃO QUE ESTÁ 
74
ALI DO MÉTODO CUSTOINVERNO A MESMA COISA VALE PARA O CUSTOVERAO 
75
BOM COMO EU IA FALANDO AQUELE ISNOTVERAO 
76
AINDA ESTÁ ENTALADO AQUI PORQUE NORMALMENTE O CÉREBRO HUMANO 
77
EU JÁ FALEI ISSO E VOU REPETIR ELE NÃO TRATA BEM O NOT ESTÁ CERTO 
78
A NEGAÇÃO ELE LÊ COMO SE FOSSE ALI SEM NEGAÇÃO 
79
ELE ESTARIA LENDO ALI COMO SE FOSSE VERÃO DEMORA PARA CALCULAR ISSO 
80
ISSO É UMA COISA QUE ATRAPALHA O RACIOCÍNIO A LEITURA QUER DIZER OU 
81
SEJA O TEXTO AINDA NÃO ESTÁ BEM LEGÍVEL EXATAMENTE POR CAUSA DESSE ISNOTVERAO 
82
ENTÃO O QUÊ QUE NÓS TEMOS QUE FAZER É TORNÁ-LO ISVERAO 
83
TORNAR ISVERAO SIGNIFICARIA O QUE ESTÁ NA PARTE THEN PASSA 
84
PARA A PARTE ELSE O QUE ESTÁ NA PARTE ELSE PASSA PARA A PARTE THEN ESTÁ CERTO 
85
E É ISSO QUE NÓS ACABAMOS FAZENDO OLHA AQUI A TRANSFORMAÇÃO 
86
EU PONHO LÁ IF ISVERAO AGORA ESTÁ ISVERAO ESTÁ CERTO 
87
CUSTO IGUAL A CUSTOVERAO QUANTIDADE ELSE IGUAL A CUSTOINVERNO QUANTIDADE 
88
INVERTEMOS A ORDEM DAS DAS EXPRESSÕES 
89
DOS MÉTODOS QUE EXPRESSAM A INTENÇÃO DO QUE EU QUERO ESTÁ CERTO 
90
ESSAS ATRIBUIÇÕES E AGORA A LEITURA ESTÁ MUITO 
91
O CÓDIGO AGORA ESTÁ MUITO MAIS LEGÍVEL NÃO É 
92
ESTÁ CERTO 
93
VAMOS DAR UMA OLHADA COMO ESTAVA ANTES ESTÁ CERTO 
94
ANTES DISSO VAMOS VER AÍ COMO É QUE FICOU NÃO É 
95
O ISVERAO 
96
O QUÊ QUE ACONTECE SE EU QUISER FAZER DE UMA MANEIRA RÁPIDA 
97
É ISSO O QUE EU IRIA FAZER EU CRIO O ISVERAO FAZENDO O QUÊ 
98
IS NOT ISNOTVERAO ESTÁ CERTO 
99
QUER DIZER EU FAÇO UMA DUPLA NEGAÇÃO ESTÁ CERTO 
100
DENTRO DO MÉTODO PRIVADO ISVERAO 
101
NÃO TEM PROBLEMA ALGUM TER ESSA DUPLA NEGAÇÃO ESTÁ CERTO 
102
PORQUE A EXPRESSÃO DA INTENÇÃO DESSE 
103
NEGATIVO ESTÁ EXPRESSO PELO NOME DO MÉTODO ISVERAO 
104
NÃO TEM PROBLEMA NENHUM 
105
AGORA EU POSSO TAMBÉM É VÁLIDO TAMBÉM 
106
SE EU TIVESSE CONSTRUÍDO O ISVERAO DO COMEÇO ESTÁ CERTO 
107
É SÓ INVERTER AQUELA EXPRESSÃO BOOLEANA INICIAL NÃO É 
108
ESTÁ CERTO 
109
ENTÃO EU COLOCO LÁ O DATA AFTER INÍCIO DO VERÃO E DATA BEFORE FIM DO VERÃO 
110
EU ESTOU LIMITANDO DIZENDO QUE É DENTRO DO VERÃO ESTÁ CERTO 
111
NO ESPAÇO DENTRO DO VERÃO 
112
ANTES EU LIMITAVA PARA FORA NÃO É 
113
ESTÁ CERTO 
114
SUPONDO QUE FOSSE INVERNO OU SEJA HEMISFÉRIOS QUE VOCÊ TEM MARCANTEMENTE 
115
UMA COISA QUE VOCÊ PODE CHAMAR DE INVERNO E DE VERÃO E DE INVERNO ESTÁ CERTO 
116
E AÍ EU INVERTI ESTÁ CERTO 
117
PARA EFEITO PRÁTICO OS DOIS TÊM EXPRESSAM A INTENÇÃO QUE É ISVERAO 
118
AGORA PARA EFEITO DE RAPIDEZ A ANTERIOR É MELHOR ESTÁ CERTO 
119
PORQUE VOCÊ NÃO PERDE MUITO TEMPO [INAUDÍVEL] TRATAR NO CASO AÍ ESSA 
120
EXPRESSÃO BOOLEANA NÃO É TÃO COMPLICADA NÃO É 
121
[INAUDÍVEL] EXPRESSÕES BOOLENAS MUITO COMPLICADAS ESTÁ CERTO 
122
LEMBRAR QUE APÓS CADA REFATORAÇÃO QUE NÓS FIZEMOS EXTRAINDO MÉTODOS 
123
NÓS TESTAMOS A BATERIA DE TESTES QUE ESTAVA VALENDO PARA 
124
O CÓDIGO ANTES DE REFATORAR E NÃO PODE HAVER MUDANÇA NENHUMA 
125
É INEGÁVEL QUE O CÓDIGO AGORA FICOU MUITO MAIS SIMPLES NÃO HÁ NADA QUE IMPEÇA 
126
O ENTENDIMENTO DA LÓGICA DE QUEM CRIOU DO QUE ELE QUERIA FAZER 
127
ESTÁ MUITO BEM EXPRESSO DESSA FORMA ESTÁ CERTO 
128
COM ISSO NÓS CONCLUÍMOS NÃO É A REFATORAÇÃO 
129
MOSTRAMOS AGORA COMPLETAMOS O DECOMPOSE CONDITIONAL ESTÁ CERTO 
130
E MOSTRAMOS QUE O MAU CHEIRO QUE VOCÊ TEM UMA EXPRESSÃO IF THEN 
131
ELSE TANTO COMPLICADA DE ENTENDER 
132
COM TRÊS REFATORAÇÕES NÓS CHEGAMOS NUM CÓDIGO MUITO MAIS LIMPO 
133
MUITO MAIS CLARO MUITO MAIS LEGÍVEL E FÁCIL DE ENTENDER 
134
OBRIGADO 
135
[MÚSICA]