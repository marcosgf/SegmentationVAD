0
[MÚSICA] [MÚSICA] OLÁ A TODOS 
1
O MEU NOME É EDUARDO GUERRA 
2
ESSE É O CURSO DE DESENVOLVIMENTO DE SOFTWARE GUIADO POR TESTES 
3
NA AULA DE HOJE VAMOS FALAR SOBRE O TESTE DE CLASSES COM DEPENDÊNCIA ESTÁ 
4
ENTÃO A GENTE VAI ENTENDER POUQUINHO PORQUE É QUE A GENTE PRECISA DE CONSIDERAR 
5
AS DEPENDÊNCIAS E COMO É QUE A GENTE FAZ QUANDO A GENTE QUER TESTAR UMA CLASSE 
6
ISOLADA OU SEJA SEM AS DEPENDÊNCIAS 
7
ESTÁ ENTÃO VAMOS FALAR POUQUINHO SOBRE ISSO 
8
ESTÁ 
9
E ENTENDER POUQUINHO QUAL COMO É ESSE PROBLEMA E O QUE A GENTE 
10
PODE FAZER PARA TESTAR UMA CLASSE ISOLADA MESMO QUE ELA TENHA DEPENDÊNCIAS 
11
ATÉ AGORA OS TESTES QUE A GENTE FEZ OS TESTES QUE 
12
A GENTE VIU FUNCIONAM MAIS OU MENOS DESSE JEITO AQUI ESTÁ 
13
EH A GENTE TEM O TESTE E ELE INTERAGE DIRETAMENTE COM A CLASSE 
14
ESTÁ 
15
ENTÃO QUE ACONTECE 
16
SE A GENTE ESTÁ DESENVOLVENDO ESSE TESTE USANDO O TDD ESTÁ 
17
O FOCO VAI SER COMO QUE O CLIENTE DA CLASSE INTERAGE COM A INTERFACE DELA 
18
OU SEJA COMO QUE EH QUE MÉTODOS VAI INVOCAR 
19
COMO É QUE VAI CRIAR OBJETO DAQUELA CLASSE 
20
QUE PARÂMETROS VAI PASSAR 
21
QUAL A SEQUÊNCIA DE MÉTODOS QUE ELE PRECISA CHAMAR PARA CHEGAR NUM DETERMINADO 
22
RESULTADO 
23
ENTÃO ASSIM A PRINCÍPIO EU ESTOU TESTANDO EH EH 
24
A ÚNICA COISA QUE O MEU TESTE ENXERGA É AQUELA INTERFACE ALI DA CLASSE ESTÁ 
25
MAS E SE A GENTE FOR DESENVOLVER POR EXEMPLO 
26
UMA CLASSE QUE INTERAGE COM OUTRA ESTÁ 
27
IMAGINA QUE POR EXEMPLO A MINHA CLASSE ELA FAZ ALGUMAS COISAS 
28
SÓ QUE ELA TEM UMA COLABORAÇÃO COM UMA OUTRA CLASSE DE QUE ELA INVOCA 
29
ALGUNS MÉTODOS PARA COMPLEMENTAR AQUELA FUNCIONALIDADE QUE ELA FAZ 
30
ENTÃO SE A GENTE FIZER O TESTE DA MESMA FORMA QUE A GENTE FAZ 
31
NÃO É QUE É O TESTE INTERAGINDO DIRETAMENTE AQUI COM A CLASSE NÃO É 
32
SÓ COM ELA ESTÁ 
33
A GENTE PODE DIZER QUE ESSE TESTE ELE NÃO SERIA MAIS TESTE DE UNIDADE 
34
ELE SERIA TESTE DE INTEGRAÇÃO 
35
PORQUÊ 
36
PORQUE ELE ESTÁ INCLUINDO AS DUAS CLASSES NO TESTE 
37
ESTÁ TANTO A CLASSE QUE 
38
NO CASO EU ESTARIA DESENVOLVENDO COM O TDD QUE É ESSA CLASSE BRANQUINHA AQUI 
39
QUANTO ESSA OUTRA CLASSEZINHA LARANJA QUE EU CHAMEI DE OUTRA CLASSE 
40
PORQUE É QUE A GENTE PODE NÃO QUERER ISSO ESTÁ 
41
POR EXEMPLO ESSA CLASSE QUE EU 
42
DO QUAL EU DEPENDO ELA PODE POR EXEMPLO DEMORAR MUITO PARA EXECUTAR ESTÁ 
43
ISSO PODE SER PROBLEMA PORQUE ESSE CARA ELE PODE POR EXEMPLO 
44
SE ELE ACESSA BANCO DE DADOS ÀS VEZES ELE FAZ UMA CONSULTA QUE PODE SER DEMORADA 
45
SE EU ESTOU RODANDO A MINHA SUÍTE DE TESTES INTEIRA 
46
ISSO AÍ PODE VIRAR GARGALO NOS BUILDS POR EXEMPLO DA MINHA APLICAÇÃO ESTÁ 
47
ÀS VEZES ATÉ MESMO PARA VOCÊ TESTAR UMA COISA RÁPIDA 
48
VOCÊ TEM QUE FICAR ESPERANDO ÀS VEZES VOCÊ PODE ACABAR COM CLASSE QUE TENHA UMA 
49
QUANTIDADE GRANDE DE TESTES E AÍ ISSO DAÍ ACABAR DIFICULTANDO 
50
NÃO É O ANDAMENTO ALI DA DA SESSÃO DE DESENVOLVIMENTO ESTÁ 
51
ESSA DEPENDÊNCIA ELA PODE DEPENDER DE UMA INFRAESTRUTURA 
52
COMO ARQUIVO OU SERVIDOR ESTÁ NO AR 
53
POR EXEMPLO IMAGINA QUE ESSA DEPENDÊNCIA É UMA CLASSE QUE MANDA UMA MENSAGEM 
54
PARA OUTRO SISTEMA ESTÁ 
55
ENTÃO ELA PODE DEPENDER DE UMA SÉRIE DE COISAS NÃO É 
56
QUE ÀS VEZES NÃO SÃO RELACIONADAS SI COM O O QUE VOCÊ ESTÁ DESENVOLVENDO 
57
POR EXEMPLO IMAGINA QUE ESSA DEPENDÊNCIA ESTEJA UMA CLASSE QUE ENVIA E-MAIL 
58
ISSO AQUI É EXEMPLO QUE JÁ ACONTECEU COMIGO EH EH EH 
59
NUM PROJETO REAL 
60
E AÍ EU TENHO UMA CLASSE QUE EU PRECISO EH EH 
61
EU TENHO UMA FUNCIONALIDADE QUE NUM DETERMINADO 
62
QUE DETERMINADAS SITUAÇÕES ENVIA E-MAIL PARA ALGUÉM ESTÁ 
63
ENTÃO EU NÃO ESTOU TESTANDO O ENVIO DO E-MAIL 
64
EU QUERO VER SE AQUELE E-MAIL É ENVIADO NAQUELAS SITUAÇÕES 
65
ENTÃO EU QUERO VER SE AQUELA OUTRA CLASSE ESTÁ SENDO INVOCADA 
66
AGORA IMAGINA PARA FAZER O TESTE ENVOLVENDO AÍ O O E-MAIL NÃO É 
67
EU TERIA QUE TER SUBIR SERVIDOR 
68
TERIA QUE IR LÁ NO SERVIDOR PARA VER SE AQUELE E-MAIL FOI ENVIADO 
69
ISSO IRIA DIFICULTAR MUITO O MEU TESTE NÃO É 
70
NESSE CASO AÍ DE DEPENDER DE ALGUMA COISA DA INFRAESTRUTURA ALI 
71
DO AMBIENTE ONDE A APLICAÇÃO VAI TER ESTÁ 
72
ESSE TIPO DE DEPENDÊNCIA DA CLASSE É ESPECÍFICAMENTE 
73
TORNA O TESTE MUITO MAIS DIFÍCIL ESTÁ 
74
OUTRO CASO EU POSSO ATÉ NÃO DEPENDER DE NINGUÉM MAS EU POSSO TER UMA LÓGICA 
75
EXTREMAMENTE COMPLICADA COMO POR EXEMPLO SEI LÁ CÁLCULOS NÃO É 
76
E ÀS VEZES PARA PENSAR CASO DE TESTE QUE SE ENCAIXE EXATAMENTE NAQUELES CÁLCULOS E 
77
DE REPENTE JOGA AQUELE ERRO DAQUELE CASO NÃO É 
78
ISSO AÍ TAMBÉM PODE TORNAR O TESTE MUITO MAIS COMPLICADO 
79
SENDO QUE A COMPLEXIDADE NÃO ESTÁ NA CLASSE QUE EU ESTOU DESENVOLVENDO 
80
MAS NA DEPENDÊNCIA DELA NÃO É 
81
OU SEJA PORQUE ELA ACESSA ALGUMA COISA COMPLICADA 
82
OU PORQUE ELA DEMORA OU PORQUE ELA TEM UMA LÓGICA AÍ COMPLICADA ESTÁ 
83
ENTÃO NESSE CASO O QUE É A GENTE PODE FAZER COM A NOSSA SESSÃO DE TDD 
84
ESTÁ 
85
NORMALMENTE A SESSÃO DE TDD ELA TRABALHA 
86
NORMALMENTE NÃO PORQUE PELO MENOS PELO QUE A GENTE VIU ATÉ AGORA 
87
A SESSÃO DE TDD TRABALHA NESSE ESCUDINHO AQUI ALI DE CIMA NÃO É 
88
NA INTERAÇÃO DO TESTE COM A CLASSE OU SEJA QUANDO VOCÊ ESTÁ DEFININDO OS 
89
TESTES VOCÊ ESTÁ DEFININDO QUAL É QUE É A INTERFACE DESSA CLASSE ESTÁ 
90
SÓ QUE O TDD VOCÊ PODE USAR ELE TAMBÉM PARA VOCÊ DEFINIR A INTERFACE 
91
DA DEPENDÊNCIA OU SEJA QUE MEC SERIA ESSE ESCUDINHO AQUI DE BAIXO 
92
OU SEJA QUE MÉTODOS QUE A MINHA CLASSE A CLASSE QUE EU ESTOU 
93
DESENVOLVENDO PRECISA DA DEPENDÊNCIA DELA PARA FAZER A SUA FUNCIONALIDADE 
94
POR EXEMPLO EU PRECISO QUE ELA ENVIE E-MAIL 
95
EU PRECISO QUE ELA ME RETORNE TAL INFORMAÇÃO DO BANCO DE DADOS 
96
EU PRECISO QUE ELA FAÇA TAL CÁLCULO ESTÁ 
97
ENTÃO A GENTE PODE TAMBÉM FAZER O O TESTE UTILIZANDO AÍ 
98
A GENTE PODE FAZER O TDD 
99
NÃO SÓ PARA DEFINIR ESSA INTERFACE PRINCIPAL DA NOSSA CLASSE 
100
MAS TAMBÉM PARA DEFINIR O QUE É QUE ESSA CLASSE PRECISA DA DEPENDÊNCIA DELA 
101
É COMO SE EU PEGASSE LÁ AS COLABORAÇÕES QUE A GENTE APRENDEU LÁ NO CRC NÃO É 
102
E FALASSE ASSIM OLHA AGORA EU ESTOU COLOCANDO DETALHES DESSA 
103
DESSA EH EH DESSA COLABORAÇÃO ESTÁ 
104
EXATAMENTE COM O MÉTODO COM A ASSINATURA DESSE MÉTODO ESTÁ 
105
E PARA FAZER ESSO TIPO DE TESTE O QUE É QUE A GENTE FAZ 
106
A GENTE PEGA A DEPENDÊNCIA E 
107
SUBSTITUI ELA POR MOCK OBJECT ESTÁ 
108
ENTÃO EH O MOCK OBJECT ELE VAI SER ALI DIGAMOS ASSIM OBJETO FALSO QUE 
109
O MEU TESTE PODE CONTROLAR E EU VOU ALI E COLOCO ELE NO LUGAR DA DEPENDÊNCIA ESTÁ 
110
ENTÃO O É QUE SERIA AÍ O MOCK OBJECT NÃO É 
111
PARA DAR AÍ UMA DEFINIÇÃO PARA A GENTE FECHAR AQUI ESSA AULA 
112
O MOCK OBJECT ELE É OBJETO SIMULADO ESTÁ 
113
QUE ELE VAI COPIAR O COMPORTAMENTO DAQUELA DEPENDÊNCIA DE UMA FORMA CONTROLADA 
114
ENTÃO EU POSSO CHEGAR PARA O MOCK E FALAR ASSIM MOCK 
115
E AGORA VOCÊ VAI RETORNAR O RESULTADO TAL 
116
MOCK AGORA VOCÊ VAI JOGAR ERRO 
117
MOCK QUAL FOI OS PARÂMETROS QUE A CLASSE QUE EU ESTOU CRIANDO ENVIOU AÍ PARA VOCÊ 
118
QUE EU QUERO VER SE ELA ESTÁ INVOCANDO ESSE MÉTODO DE UMA FORMA CORRETA 
119
MOCK QUANTAS VEZES ELA CHAMOU ESSE MÉTODO 
120
PORQUE NESSE CASO DE TESTE NÃO PODE CHAMAR NENHUMA 
121
MAS NAQUELE OUTRO TEM DE CHAMAR PELO MENOS 3 ESTÁ 
122
ENTÃO O MOCK OBJECT É 
123
É AQUELE OBJETO SIMULADO QUE A GENTE BOTA NO LUGAR DAQUELA DEPENDÊNCIA ESTÁ 
124
EU GOSTO DE FAZER ESSA ANALOGIA COM ESSES BONEQUINHOS AQUI NÃO É 
125
QUE CHAMAM O CRASH DUMMY NÃO É 
126
QUE É AQUELES BONEQUINHOS QUE A GENTE COLOCA DENTRO DO CARRO NÃO É 
127
PORQUÊ 
128
PORQUE SE A GENTE FOR PARAR PARA PENSAR 
129
NÃO É VIÁVEL VOCÊ IR LÁ E BOTAR UMA PESSOA DE VERDADE DENTRO DO CARRO PARA VOCÊ DAR 
130
UMA CACETADA COM O CARRO NA PAREDE E VER O QUE ACONTECE COM AQUELA PESSOA ESTÁ 
131
ENTÃO POR CAUSA DISSO A GENTE COLOCA ESSES DUMMIES 
132
NÃO É A GENTE COLOCA ESSES BONECOS QUE ELES INCLUSIVE VÃO TER UMA FORMA MUITO 
133
MELHOR DO QUE A PESSOA ATÉ PARA MEDIR A FORÇA DO IMPACTO NÃO É 
134
OS LOCAIS ALI ONDE TEVE UMA MAIOR EH MAIOR ESFORÇO E TAL 
135
ENTÃO EH EH 
136
É A MESMA COISA DO QUE A NOSSA DEPENDÊNCIA QUE É DIFÍCIL DE TESTAR NÃO É 
137
É CÁLCULO ELA DEMORA ELA DEPENDE DE INFRAESTRUTURA 
138
ELA TEM UMA LÓGICA PRÓPRIA ALI QUE VAI COMPLICAR O MEU TESTE 
139
ENTÃO BOTA O MOCK ALI 
140
É COMO SE FOSSE ESSE BONEQUINHO 
141
ELE VAI TE AJUDAR A VERIFICAR COMO É ESSA INTERAÇÃO ENTRE AS CLASSES E VOCÊ 
142
VAI CONSEGUIR CONTROLAR ELE PARA SIMULAR OS CENÁRIOS QUE VOCÊ PRECISA ESTÁ 
143
ENTÃO NESSA AULA O OBJETIVO FOI FALAR POUCO MAIS 
144
SOBRE O TESTE DESSAS CLASSES COM DEPENDÊNCIA ESTÁ 
145
EU QUERIA APRESENTAR PARA VOCÊS O QUE SÃO OS MOCK OBJECT 
146
MAS FIQUE TRANQUILO QUE NAS PRÓXIMAS AULAS VAMOS ENTRAR 
147
MAIS DETALHES SOBRE OS MOCK OBJECTS COMO CRIAR ELES 
148
COMO ELES FUNCIONAM 
149
COMO COLOCAR ELES DENTRO DA CLASSE 
150
ESTÁ CERTO 
151
MUITO OBRIGADO POR ASSISTIR 
152
VEJO VOCÊS NA PRÓXIMA AULA 
153
[MÚSICA] [MÚSICA]