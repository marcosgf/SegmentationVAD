0
[MÚSICA] OLÁ 
1
BEMVINDO AO CURSO SOBRE TDD 
2
EU SOU CLÓVIS FERNANDES E HOJE IREMOS MOSTRAR PARA VOCÊS 
3
EXEMPLO DE REFATORAÇÃO USANDO O EXTRACT METHOD DO FOWLER 
4
A REFATORAÇÃO PARA EXTRAIR 
5
MÉTODO DE CÓDIGO EXEMPLO QUE A GENTE VAI MOSTRAR PARA VOCÊS 
6
ENTÃO QUAL QUE É O NOSSO PROBLEMA NESSE MOMENTO 
7
VOCÊ TEM FRAGMENTO DE CÓDIGO QUE PODE SER AGRUPADO 
8
VAMOS VER O NOSSO EXEMPLO ELE FOI TIRADO DIRETO LÁ DO FOWLER ESTÁ CERTO 
9
EU JÁ TENHO PRINTBANNER 
10
MÉTODO PRINTBANNER E DEPOIS COMENTÁRIO PRINT DETAILS 
11
ENTÃO PODE VER QUE O MEU CACHORRINHO JÁ ESTÁ FAREJANDO ALI ESTÁ CERTO 
12
IMAGINEM QUE ALI VAI TER ALGUMA COISA QUE PRECISA SER TRATADA ESTÁ CERTO 
13
O QUE PRECISA SER TRATADO QUE ESTÁ BEM CLARO AÍ É ESSE DESNÍVEL NÃO É 
14
ENTÃO COMO EU HAVIA DITO SUPÕESE QUE O PRINTBANNER TENHA SIDO CÓDIGO 
15
QUE JÁ CORRESPONDEU A EXTRACTED METHOD OU NÃO NÃO IMPORTA 
16
O QUE IMPORTA É QUE EXISTE DESNÍVEL VOCÊ TEM COMANDO SIMPLES 
17
EXPRESSANDO UMA EXPRESSÃO QUE É O PRINTBANNER ESTÁ CERTO 
18
QUE VOCÊ [INAUDÍVEL] O QUE EXPRESSA A EXPRESSÃO ESTÁ CERTO 
19
O RESTO ESTÁ COMANDOS BEM SIMPLES 
20
ENTÃO QUE A GENTE VAI EXTRAIR CÓDIGO É DO SYSTEM OUT 
21
DO PRIMEIRO SYSTEM OUT E DO SEGUNDO SYSTEM OUT ENTÃO 
22
NÓS VAMOS TENTAR FAZER ESSA EXTRAÇÃO DA MELHOR MANEIRA POSSÍVEL 
23
E COMO É QUE ESSA EXTRAÇÃO OCORRE 
24
A PRIMEIRA COISA QUE VOCÊ VAI FAZER É TRANSFORMAR 
25
ESSE FRAGMENTO QUE VOCÊ ESTÁ QUERENDO EXTRAIR ESTÁ CERTO 
26
TRANSFORMÁLO NOVO MÉTODO E 
27
SEGUINDO AQUELE PRINCÍPIO DO EXPRESSAR A INTENÇÃO ESTÁ CERTO 
28
A IDEIA É QUE VOCÊ EXPLIQUE APRESENTE NOME QUE 
29
EXPLIQUE A FINALIDADE DAQUELE TRECHO DE CÓDIGO QUE ESTÁ ALI ESTÁ CERTO 
30
O COMENTÁRIO QUE TEM ALI VAI NOS AJUDAR A TER UMA NOÇÃO DO QUE 
31
AQUELE TRECHO DE CÓDIGO RESPONDE POR QUEM FEZ AQUELE TRECHO DE CÓDIGO 
32
MAS COMO EU JÁ MOSTREI EXEMPLO DE AULA ANTERIOR 
33
OS COMENTÁRIOS [INAUDÍVEL] NÃO ESTÁ ERRADO ESTÁ CERTO 
34
ENTÃO VOCÊ QUE É RESPONSÁVEL POR ENTENDER AQUELE TRECHO DE CÓDIGO E CONCORDAR COM O 
35
COMENTÁRIO OU NÃO 
36
A SEGUNDA COISA QUE A GENTE VAI FAZER É ONDE TINHA AQUELE 
37
TRECHO DE CÓDIGO QUE A GENTE REMOVEU PARA FORMAR O NOVO MÉTODO 
38
NÓS COLOCAMOS UMA CHAMADA DAQUELE MÉTODO ESTÁ CERTO 
39
NORMALMENTE NÓS EXTRAÍMOS ESSES MÉTODOS E NA MAIORIA DAS VEZES 
40
ELES FICAM COMO MÉTODOS PRIVADOS ESTÁ CERTO 
41
ALGUNS CASOS ELES PODEM TER RECEBER MODIFICADOR 
42
DIFERENTE DE ACESSO MAS IGUALMENTE ELES VÃO SER PRIVADOS 
43
OUTRA COISA QUE A GENTE PRECISA TOMAR MUITO CUIDADO É COM AS VARIÁVEIS 
44
TEMPORÁRIAS NESSE TRECHO DE CÓDIGO QUE NÓS VAMOS EXTRAIR ESTÁ CERTO 
45
SE A VARIÁVEL TEMPORÁRIA É DEFINIDA E USADA INTEIRAMENTE LÁ DENTRO ESTÁ CERTO 
46
SEM NENHUM CONTATO EXTERNO NÃO TEM PROBLEMA 
47
COMO SE FOSSE UMA VARIÁVEL INTERNA DAQUELE MÉTODO 
48
AGORA SE VOCÊ DETERMINOU QUE IA DEFINIR ANTES E ELA NÃO É 
49
MODIFICADA LÁ DENTRO ESTÁ CERTO 
50
VOCÊ TEM QUE PASSAR ESSA VARIÁVEL COMO PARÂMETRO ENTÃO VOCÊ TEM UMA VARIÁVEL 
51
QUE FOI DECLARADA ANTES QUE NÃO É MODIFICADA DENTRO DESSE FRAGMENTO 
52
VOCÊ VAI PASSAR COM PARÂMETRO SE TIVER MAIS COM PARÂMETRO E ASSIM POR DIANTE 
53
A OUTRA COISA É QUE SE ELA FOR MODIFICADA LÁ DENTRO DO FRAGMENTO 
54
ESSA VARIÁVEL TEMPORÁRIA SE ELA FOR MODIFICADA LÁ DENTRO 
55
AÍ ELA TEM QUE VOLTAR ATRAVÉS DE RETURN 
56
ENTÃO OBVIAMENTE SE EU TIVER MAIS DO QUE UMA VARIÁVEL 
57
EU VOU TER QUE USAR ALGUM ESQUEMA DE VOLTAR ESSAS VARIÁVEIS 
58
OS VALORES DESSAS VARIÁVEIS PARA SEREM USADOS EXTERNAMENTE 
59
COMO O RETURN SÓ PERMITE O RETORNO DE UMA VARIÁVEL 
60
O QUE NORMALMENTE SE FAZ É VOCÊ TRANSFORMAR O VALOR DO DADO QUE VOCÊ 
61
O VALOR DOS DADOS QUE VOCÊ ESTÁ QUERENDO RETORNAR SÃO MAIS DE UMA VARIÁVEL 
62
VOCÊ TRANSFORMA NO QUE A GENTE CHAMA ALI O OBJECT 
63
QUER DIZER VOCÊ VAI FAZER OBJETO QUE É SÓ PARA TRANSPORTAR ESSES VALORES CERTO 
64
E QUANDO VOCÊ DEVOLVER ESSE VALUE OBJECT 
65
VOCÊ VAI [INAUDÍVEL] GET PARA OBTER OS VALORES 
66
APROPRIADOS PARA CADA UMA DAS VARIÁVEIS QUE MODIFICOU INTERNAMENTE 
67
BOM VAMOS OLHAR AGORA DE NOVO O CÓDIGO 
68
ENTÃO VAMOS EXAMINAR O PRINT DETAILS QUE É O COMENTÁRIO QUE ESTÁ ALI 
69
CASO [INAUDÍVEL] EXAMINA E PERCEBE QUE ELE REALMENTE CORRESPONDE 
70
À QUALIDADE DESSE TIPO DE CÓDIGO ESTÁ CERTO 
71
ENTÃO O NOME VAI SAIR DAÍ O NOME DO MEU NOVO MÉTODO VAI SER PRINT DETAILS 
72
VERIFICO TAMBÉM QUE A VARIÁVEL TEMPORÁRIA DEBITO 
73
ELA É USADA DEFINIDA ANTES DO TRECHO QUE EU 
74
VOU EXTRAIR E ELA É USADA 
75
DIRETAMENTE SEM MODIFICAÇÃO ELA NÃO É MODIFICADA DENTRO DO TRECHO ESTÁ CERTO 
76
ENTÃO EU VOU PASSAR COMO O PARÂMETRO ENTÃO O MEU MÉTODO VAI SER PRINT 
77
DETAILS E EU PASSO UMA VARIÁVEL DEBITO DO TIPO DOUBLE 
78
UNDERLINE OU SUBLINHADO NAME FICA BEM CLARO AQUI 
79
ESSE TRECHO DE CÓDIGO É PEQUENO MAS SE FOSSE TRECHO MAIOR VOCÊ IA NOTAR QUE 
80
PELA NOSSA CONVENÇÃO ELE É UMA VARIÁVEL DE INSTÂNCIA [INAUDÍVEL] PROCURANDO NADA 
81
VER NADA TEM O SUBLINHADO ANTES ENTÃO É UMA VARIÁVEL DE INSTÂNCIA 
82
ENTÃO NÃO VOU CONFUNDIR COM VARIÁVEIS TEMPORÁRIAS OU PARÂMETROS 
83
DO MÉTODO QUE EU ESTOU USANDO ESTÁ CERTO 
84
ENTÃO VAMOS AGORA OBSERVAR O TRECHO QUE NÓS VAMOS EXTRAIR ENTÃO 
85
É ESSAS DUAS LINHAS QUE CONTÊM O SYSTEM OUT ESTÁ CERTO 
86
NESSAS DUAS LINHAS 
87
PRIMEIRA COISA QUE EU FAÇO 
88
FAZER UMA CÓPIA DESSE TRECHO CRIAR O MÉTODO 
89
PRINT DETAILS COM PARÂMETRO DEBITO ESTÁ CERTO 
90
E CRIA O MÉTODO E CRIA ESSE MÉTODO 
91
NESSE TRECHO QUE ESTÁ MARCADO AÍ EXTRAIR 
92
EU VOU ENTÃO POR A CHAMADA DO MÉTODO NOVO QUE EU ACABEI DE CRIAR 
93
ENTÃO VEJAMOS COMO É QUE FICA 
94
DESSA FORMA ENTÃO EU COLOQUEI ALI O ANTES E O DEPOIS CERTO 
95
TEM O ANTES E O DEPOIS 
96
VOCÊS PERCEBAM QUE EU TENHO LÁ PRINTDETAILS DEBITO ESTÁ CERTO 
97
ENTÃO ISSO FICOU BEM CLARO 
98
ESSA ESTRUTURA QUE FOI FEITA ESSE MECANISMO 
99
ESSE PROCESSO TODO PARA FAZER O EXTRACT METHOD ESTÁ CERTO 
100
PARA EXTRAIR O MÉTODO NOVO DE TRECHO PASSÍVEL DE EXTRAÇÃO 
101
O MAIOR CUIDADO SÃO COM AS VARIÁVEIS TEMPORÁRIAS ESTÁ CERTO 
102
E A IDEIA É QUE VOCÊ [INAUDÍVEL] O CÓDIGO QUE 
103
ESTÁ ANTES ALI ELE FOI TESTADO ESTÁ CERTO 
104
E VOCÊ JÁ SABE QUE O TESTE É BEM SUCEDIDO 
105
FIZ A REFATORAÇÃO DEPOIS 
106
LOGO SEGUIDA EU TESTO TUDO DE NOVO 
107
O TESTE TEM QUE DAR BEM SUCEDIDO NOVAMENTE 
108
PORQUE SE OCORRER ALGUMA COISA QUE O TESTE PARE O QUE É QUE EU TENHO QUE FAZER 
109
EU TENHO QUE VER ONDE FOI QUE EU ERREI NESSA EXTRAÇÃO 
110
ERREI DE ALGUMA FORMA ESTÁ CERTO 
111
COM RELAÇÃO ÀS VARIÁVEIS PODE TER ACONTECIDO ALGUMA COISA E VAI DAR ERRADO 
112
ESTÁ CERTO 
113
BOM EU NÃO MOSTREI AQUI MAS O SENHOR GUERRA MAIS PRA FRENTE 
114
VAI MOSTRAR EXEMPLO DE EXTRACT METHOD USANDO O ECLIPSE 
115
QUE VOCÊ [INAUDÍVEL] VAI SER DADO PELO ECLIPSE 
116
O ECLIPSE VAI TE DIZER OLHA SÃO ESSAS VARIÁVEIS TEMPORÁRIAS QUE ESTÃO AQUI 
117
OLHA ESSA AQUI VAI SER PASSADA COMO PARÂMETRO 
118
ESSA AQUI VAI TER QUE RETORNAR ESTÁ CERTO 
119
ELE VAI INDICAR TUDO PARA VOCÊ 
120
VOCÊ CONFIRMA PORQUE ELE NÃO TEM CERTEZA ABSOLUTA SE TODAS AS 
121
SITUAÇÕES ELE TEM CERTEZA SOBRE O QUE ELE VAI FAZER MAS JÁ É DE 
122
UMA GRANDE AJUDA PRA QUE VOCÊ POSSA FAZER EXTRACT METHOD DE UMA MANEIRA MAIS SEGURA 
123
PARA GARANTIR QUE QUANDO VOCÊ TESTAR AO FINAL DA REFATORAÇÃO DÊ TUDO CERTO 
124
NÓS JÁ FIZEMOS TUDO QUE TÍNHAMOS QUE FAZER PARA EXEMPLIFICAR O EXTRACT METHOD 
125
NÓS VAMOS APROVEITAR AGORA PARA MOSTRAR ASSIM RAPIDAMENTE 
126
OUTRO TIPO DE REFATORAÇÃO QUE O FOWLER CHAMA DE INLINE TEMP ESTÁ CERTO 
127
QUE VOCÊS PERCEBAM QUE A TEMPORÁRIA DEBITO 
128
RECEBE VALOR QUE ELE LÁ CHAMA DE QUERY 
129
MAS QUE NO NOSSO CASO É GETTER ESTÁ CERTO 
130
ENTÃO ESSE INLINE TEMPER ONDE ESTIVER SENDO USADA ESSA VARIÁVEL DEBITO 
131
VAI SER SUBSTITUÍDA PELO GETDEBITO ESTÁ CERTO 
132
ENTÃO ALI NO CASO SÓ TEM LUGAR QUE É O PRINTDETAILS DEBITO 
133
ENTÃO É ISSO QUE O INLINE TEMP FAZ 
134
VAI FAZER PARA EXEMPLO DE UMA VARIÁVEL DEBITO QUE APARECE ALI 
135
SENDO USADA MAS SE TIVESSE MAIS OUTROS LOCAIS ONDE ELA APARECESSE 
136
IRIA SER SUBSTITUÍDA PELO GETDEBITO ENTÃO VEJA COMO É QUE FICA 
137
ENTÃO PERCEBA QUE EU MANTIVE A LINHA ONDE ESTAVA ANTERIORMENTE E RISQUEI 
138
HACHUREI MOSTRANDO QUE ELA ESTÁ FOI REMOVIDA ESTÁ CERTO 
139
E ONDE TINHA O PRINT DETAILS DEBITO AGORA TEM O PRINT DETAILS O GETTER 
140
GETDEBITO O MÉTODO ESTÁ CERTO 
141
GETDEBITO ESTÁ OK 
142
BOM TÊM PESSOAS QUE NÃO ACHAM QUE ISSO FICOU 
143
EXPRESSA BEM A INTENÇÃO ESTÁ CERTO 
144
QUE A MANEIRA ANTERIOR EXPRESSA MELHOR ESTÁ CERTO 
145
ENTÃO É O TIPO DE REFATORAÇÃO QUE VOCÊ DECIDE O QUE VOCÊ REALMENTE QUER FAZER 
146
SE QUER CHEGAR ATÉ ESSE DETALHE MAIOR OU MANTÉM O ANTERIOR ESTÁ CERTO 
147
O INLINE TEMP NÃO É NECESSARIAMENTE UMA COISA QUE VOCÊ SEMPRE TEM QUE FAZER 
148
VOCÊ PODE FAZER SE ACHAR QUE REALMENTE FICOU CLARO O QUE VOCÊ ESTAVA QUERENDO 
149
A INTENÇÃO QUE VOCÊ ESTAVA QUERENDO PASSAR DO QUE O CÓDIGO FAZ 
150
A FINALIDADE DO CÓDIGO 
151
COM ISSO NÓS APROVEITAMOS E ENCERRAMOS O EXEMPLO DO EXTRACT METHOD ESTÁ CERTO 
152
E MOSTRAMOS TAMBÉM RAPIDAMENTE A REFATORAÇÃO 
153
CHAMADA INLINE TEMP 
154
OBRIGADO