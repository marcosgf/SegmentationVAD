WEBVTT

1
00:00:00.000 --> 00:00:07.820
[MÚSICA]

2
00:00:07.820 --> 00:00:13.210
[MÚSICA] E

3
00:00:13.210 --> 00:00:18.110
ai pessoal, tudo bem?

4
00:00:18.110 --> 00:00:21.520
Nessa aula iremos ver como
funcionam constraints.

5
00:00:21.520 --> 00:00:26.328
Constraints são muito importantes
para fazermos aplicativos

6
00:00:26.328 --> 00:00:30.830
universais ou seja,
que funcionam em diversos dispositivos.

7
00:00:30.830 --> 00:00:35.590
Criaremos aplicativo com alguns objetos e
adicionaremos constraints a cada deles.

8
00:00:35.590 --> 00:00:40.860
Vamos iniciar criando novo projeto
com a opção Single View Application.

9
00:00:40.860 --> 00:00:45.436
Escolha nome de projeto e em
Devices vamos usar Universal que

10
00:00:45.436 --> 00:00:48.640
serve para iPhone e iPad simultaneamente.

11
00:00:48.640 --> 00:00:54.266
[SEM_ÁUDIO] Com

12
00:00:54.266 --> 00:00:59.290
o projeto criado,
vamos trabalhar apenas no storyboard.

13
00:00:59.290 --> 00:01:05.131
[SEM_ÁUDIO] Mude o nome da view do

14
00:01:05.131 --> 00:01:12.330
view controller existente para Main View
pois vamos adicionar diversas views aqui.

15
00:01:12.330 --> 00:01:16.560
Agora adicione 3 views.

16
00:01:16.560 --> 00:01:24.560
[SEM_ÁUDIO]

17
00:01:24.560 --> 00:01:32.672
[SEM_ÁUDIO] Pinte

18
00:01:32.672 --> 00:01:37.873
a primeira de azul e

19
00:01:37.873 --> 00:01:45.540
mude o nome para Blue View.

20
00:01:45.540 --> 00:01:52.633
[SEM_ÁUDIO] Pinte

21
00:01:52.633 --> 00:01:58.347
a segunda de verde e mude

22
00:01:58.347 --> 00:02:04.180
o nome para Green View.

23
00:02:04.180 --> 00:02:11.470
Pinte a terceira de cinza e
mude o nome para Grey View.

24
00:02:11.470 --> 00:02:17.843
[SEM_ÁUDIO] Agora

25
00:02:17.843 --> 00:02:22.800
vamos começar a adicionar constraints.

26
00:02:22.800 --> 00:02:27.613
Quando colocamos constraints em
objeto é para definir seu tamanho e

27
00:02:27.613 --> 00:02:29.730
posição no view controller.

28
00:02:29.730 --> 00:02:33.740
O tamanho é definido
pela altura e largura.

29
00:02:33.740 --> 00:02:39.203
A posição deve ser definida pela
distância entre pelo menos uma margem

30
00:02:39.203 --> 00:02:45.150
superior ou inferior e uma margem lateral
que pode ser da esquerda ou direita.

31
00:02:45.150 --> 00:02:51.235
[SEM_ÁUDIO] Constraints

32
00:02:51.235 --> 00:02:55.090
são adicionadas usando esses 3 elementos.

33
00:02:55.090 --> 00:02:59.465
Vamos ver cada deles.

34
00:02:59.465 --> 00:03:03.840
Primeiramente, selecione a view cinza.

35
00:03:03.840 --> 00:03:06.870
Selecione o primeiro elemento.

36
00:03:06.870 --> 00:03:11.422
Esse é utilizado para adicionar
constraints de alinhamento no objeto

37
00:03:11.422 --> 00:03:12.430
selecionado.

38
00:03:12.430 --> 00:03:17.445
Selecione os dois últimos elementos para

39
00:03:17.445 --> 00:03:22.163
centralizar a view cinza horizontalmente
e verticalmente com relação à main

40
00:03:22.163 --> 00:03:27.170
view que e o objeto pai da view cinza.

41
00:03:27.170 --> 00:03:31.880
Após selecionar esses elementos,
veja que adicionou 2 constraints no final.

42
00:03:31.880 --> 00:03:36.440
Isso significa que as constraints ainda
não foram adicionadas no storyboard,

43
00:03:36.440 --> 00:03:40.510
apenas estão marcadas
para serem adicionadas.

44
00:03:40.510 --> 00:03:44.580
Logo acima disso tem o menu de update.

45
00:03:44.580 --> 00:03:48.615
Clique nele e veja que temos 3 opções.

46
00:03:48.615 --> 00:03:52.650
Por definição ele está marcado para não
fazer nenhuma atualização no storyboard.

47
00:03:52.650 --> 00:03:56.519
Isso significa que quando as
constraints forem adicionadas,

48
00:03:56.519 --> 00:03:59.880
nenhuma alteração será feita
no tamanho dos objetos.

49
00:03:59.880 --> 00:04:05.559
Caso a segunda opção seja selecionada,
serão feitas alterações

50
00:04:05.559 --> 00:04:10.460
relacionadas aos objetos das constraints
que estão sendo adicionadas.

51
00:04:10.460 --> 00:04:16.024
Caso a última opção seja selecionada,
todas as constraints

52
00:04:16.024 --> 00:04:21.450
do view controller serão verificadas e os
objetos modificados de acordo com elas.

53
00:04:21.450 --> 00:04:26.903
Quando começamos a colocar
constraints em objeto, dificilmente

54
00:04:26.903 --> 00:04:31.000
já colocamos todas as restrições
de tamanho e posição de uma vez.

55
00:04:31.000 --> 00:04:32.695
Sem essas restrições,

56
00:04:32.695 --> 00:04:37.450
o Xcode não consegue definir
exatamente como deve ficar o objeto.

57
00:04:37.450 --> 00:04:40.794
Portanto, a primeira opção
de não atualizar objeto

58
00:04:40.794 --> 00:04:44.450
com as constraints colocadas
é o ideal para este começo.

59
00:04:44.450 --> 00:04:50.040
Ainda com a view cinza selecionada,
pressione control,

60
00:04:50.040 --> 00:04:54.110
clique dentro da view cinza
e arraste para main view.

61
00:04:54.110 --> 00:05:00.540
Essa é uma outra forma de adicionar
constraints relativas entre 2 objetos.

62
00:05:00.540 --> 00:05:03.484
Algumas opções aparecem.

63
00:05:03.484 --> 00:05:06.300
Selecione Equal Widths.

64
00:05:06.300 --> 00:05:12.580
Repita o procedimento e
selecione Equal Heights.

65
00:05:12.580 --> 00:05:18.344
Com isso definimos que a view cinza vai
ter a mesma largura e altura da main view,

66
00:05:18.344 --> 00:05:19.730
respetivamente.

67
00:05:19.730 --> 00:05:22.053
Vamos modificar isso pouco.

68
00:05:22.053 --> 00:05:27.050
Com a view cinza selecionada,
abra o inspetor de tamanho do objeto.

69
00:05:27.050 --> 00:05:31.580
Aqui podemos ver todas as constraints
adicionadas para a view cinza.

70
00:05:31.580 --> 00:05:36.010
Selecione a constraint de equal heights,
recém adicionada.

71
00:05:36.010 --> 00:05:39.960
Aqui é possível ver como
foi feita a constraint.

72
00:05:39.960 --> 00:05:45.630
A altura da view cinza tem uma relação
de igual para a altura da main view.

73
00:05:45.630 --> 00:05:51.730
Para mudar,
basta mudar o modificador para 0.5.

74
00:05:51.730 --> 00:05:58.520
Isso significa que a view cinza
terá 50% da altura da main view.

75
00:05:58.520 --> 00:06:04.590
Aqui pode acontecer do primeiro
item estar invertido com o segundo.

76
00:06:04.590 --> 00:06:09.720
Com isto, basta fazer a relação
inversa e usar o modificador 2

77
00:06:09.720 --> 00:06:17.150
que significa que a main view deve
ter o dobro da altura da view cinza.

78
00:06:17.150 --> 00:06:23.740
Outra opção é selecionar o primeiro ou o
segundo item e inverter a posição deles.

79
00:06:23.740 --> 00:06:30.010
[SEM_ÁUDIO] Voltando à iii de tamanho,

80
00:06:30.010 --> 00:06:32.850
vamos fazer a mesma
alteração para largura.

81
00:06:32.850 --> 00:06:41.463
[SEM_ÁUDIO] Feitas essas

82
00:06:41.463 --> 00:06:46.810
alterações, selecione o último elemento

83
00:06:46.810 --> 00:06:51.830
usado para resolver problemas
em alto layout e constraints.

84
00:06:51.830 --> 00:06:56.621
Selecione a primeira opção de
Update Frames para atualizar

85
00:06:56.621 --> 00:07:01.560
o tamanho e posição desse objeto de acordo
com as constraints que foram adicionadas.

86
00:07:01.560 --> 00:07:09.380
Agora adicione proporção de igual altura
e largura entre as views cinza e azul.

87
00:07:09.380 --> 00:07:14.460
Para isso basta repetir o
procedimento e pressionar control,

88
00:07:14.460 --> 00:07:18.540
clicar e arrastar da
view cinza para a azul.

89
00:07:18.540 --> 00:07:23.670
Nesse caso vamos deixar
a proporção de 1 para 1.

90
00:07:23.670 --> 00:07:27.962
Agora, repita o procedimento
entre a view cinza e

91
00:07:27.962 --> 00:07:32.740
a verde mas deixe a verde com metade
da largura e altura da cinza.

92
00:07:32.740 --> 00:07:38.802
[SEM_ÁUDIO] Agora

93
00:07:38.802 --> 00:07:43.310
vamos fixar as views azul e verde.

94
00:07:43.310 --> 00:07:46.692
Começando pela azul,

95
00:07:46.692 --> 00:07:52.840
selecione-a e em seguida,
clique no segundo item de constraints.

96
00:07:52.840 --> 00:07:58.060
Aqui podemos colocar constraints de
posição para o objeto selecionado.

97
00:07:58.060 --> 00:08:02.050
Vamos adicionar constraints
à direita e abaixo.

98
00:08:02.050 --> 00:08:04.396
Desconsiderando as margens.

99
00:08:04.396 --> 00:08:07.920
Para o valor das
constraints vamos deixar 0.

100
00:08:07.920 --> 00:08:13.210
Isso vai deixar a view azul encostada na
lateral direita e na margem inferior.

101
00:08:13.210 --> 00:08:17.764
Como já colocamos constraints para o
tamanho e agora estamos adicionando para

102
00:08:17.764 --> 00:08:22.440
a posição, vamos selecionar para o objeto
atualizar de acordo com os constraints.

103
00:08:22.440 --> 00:08:28.400
Agora, na view verde vamos fazer o mesmo
para para a esquerda e a margem superior.

104
00:08:28.400 --> 00:08:36.200
[SEM_ÁUDIO] Vamos

105
00:08:36.200 --> 00:08:41.075
executar o aplicativo em iPad

106
00:08:41.075 --> 00:08:45.890
Air 2 e ver como está

107
00:08:45.890 --> 00:08:50.050
funcionando.

108
00:08:50.050 --> 00:08:55.192
[SEM_ÁUDIO] Repare que

109
00:08:55.192 --> 00:08:59.260
as proporções de tamanho dos objetos são
de acordo com a tela que estamos usando.

110
00:08:59.260 --> 00:09:04.730
Podemos ver também como se altera quando
giramos o aparelho pelo simulador.

111
00:09:04.730 --> 00:09:10.650
Para isso, basta pressionar Command
mais a seta para a esquerda ou direita.

112
00:09:10.650 --> 00:09:15.550
Agora pare a execução e veja
como ficou num iPhone 6.

113
00:09:15.550 --> 00:09:22.346
[SEM_ÁUDIO] Também

114
00:09:22.346 --> 00:09:28.110
podemos rotacionar e ver como se alteram
as views para cada orientação da tela.

115
00:09:28.110 --> 00:09:33.900
Vimos aqui pouco sobre o
funcionamento de constraints.

116
00:09:33.900 --> 00:09:37.072
Aconselhamos que você faça
testes utilizando as diferentes

117
00:09:37.072 --> 00:09:39.690
formas de constraints
demonstradas nessa aula.

118
00:09:39.690 --> 00:09:44.591
Na próxima aula,
faremos uma recapitulação do módulo.

119
00:09:44.591 --> 00:09:45.310
Até lá!